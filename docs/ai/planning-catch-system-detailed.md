# 계획 단계 자동 캐치 시스템 (상세 설명)
**날짜**: 2025-01-06  
**목적**: 계획 단계 자동 감지 시스템의 상세 설명 및 구현 가이드  
**참고**: `planning-catch-system.md` - Agent용 간결 버전

## 🎯 시스템 개요

이 시스템은 개발자가 계획 단계에 도달했을 때 자동으로 감지하고, 구현 전에 계획을 문서화하도록 제안하는 시스템입니다.  
실제 Agent는 `planning-catch-system.md`의 간결한 버전을 참고합니다.

### **핵심 목표**
- 구현 전 계획 문서화로 실수 방지
- 개발자 부담 최소화 (자동 감지)
- 체계적인 구현 로드맵 제공
- 자연스러운 개발 흐름 보존

## 📡 상세 신호 분석

### **1. 명시적 계획 신호**

#### **직접적 계획 요청**
- "계획을 세워보자", "구체적인 계획이 나왔어"
- "이제 구현 계획을 정리해줘", "다음 단계를 정리해줘"
- "TO-DO를 만들어보자", "작업 순서를 정해보자"

#### **계획 단계 전환 신호**
- "이제 어떻게 할까?", "다음엔 뭘 해야지?"
- "구현 방법을 정해보자", "접근 방식을 정하자"

### **2. 암시적 계획 패턴**

#### **논리적 연결어 패턴**
- "그럼", "그러면", "그래서" 연속 사용
- "먼저", "그 다음", "마지막으로" 순서 표현
- "이렇게 하면", "그러면 이제" 전환 구문

#### **의사결정 패턴**
- 여러 옵션 제시: "A 방법도 있고, B 방법도 있는데..."
- 비교 분석: "이 방법이 더 좋을 것 같은데"
- 우선순위 논의: "이것부터 해야겠어"

### **3. 컨텍스트 단서**

#### **구현 관련 질문**
- "어떻게 구현할까?", "무엇부터 시작할까?"
- "어떤 기술을 써야 할까?", "어떤 패턴을 적용할까?"

#### **구조적 사고 표현**
- "단계별로", "순서대로", "차례대로"
- "의존성을 고려하면", "전제조건이 있어야"
- "이것이 먼저 완료되어야"

## 🔄 자동 캐치 워크플로우

### **1단계: 신호 감지**
```
대화 모니터링 → 계획 패턴 확인 → 계획 단계 판단
```

### **2단계: 능동적 제안**
```
"구체적인 계획이 나온 것 같습니다. 구현 전에 계획을 문서로 정리해드릴까요?"
```

### **3단계: 계획 문서화**
- 계획 요소 추출
- 실행 가능한 단계로 구조화
- 의존성 식별
- 구현 로드맵 생성

### **4단계: 확인 및 저장**
- 생성된 계획 검토
- 개발자 확인 요청
- 최종 저장

## 📝 계획 문서 구조

### **기본 템플릿**
```markdown
# 구현 계획: [기능명]
**날짜**: YYYY-MM-DD  
**목표**: [달성하려는 목표]

## 🎯 목표
- [구체적인 목표 설명]

## 🛠️ 접근 방법
- [선택한 전략/방법]

## 📋 구현 단계
1. [첫 번째 단계]
2. [두 번째 단계]
3. [세 번째 단계]

## 🔗 의존성
- [전제조건들]
- [순서 요구사항]

## ⚠️ 주의사항
- [잠재적 문제점들]

## ✅ 완료 기준
- [성공 기준들]
```

## 💡 실전 예시

### **예시 1: 명시적 계획 신호**
```
개발자: "이제 RAG 시스템을 구현해야 하는데, 계획을 세워보자"
AI Agent: "구체적인 계획이 나온 것 같습니다. 구현 전에 계획을 문서로 정리해드릴까요?"
```

### **예시 2: 암시적 계획 패턴**
```
개발자: "그럼 먼저 벡터 DB를 설정하고, 그 다음에 임베딩을 구현하고, 마지막으로 검색 로직을 만들면 되겠네"
AI Agent: "단계별 계획이 나온 것 같습니다. 이 계획을 문서로 정리해드릴까요?"
```

### **예시 3: 컨텍스트 단서**
```
개발자: "어떻게 구현할까? Qdrant를 써야 할까, 아니면 다른 걸 써야 할까?"
AI Agent: "구현 방법을 고민하고 계시는 것 같습니다. 계획을 정리해드릴까요?"
```

## 🚫 자동 캐치하지 말아야 할 경우

### **일반적인 대화**
- 기존 코드에 대한 단순한 질문
- 디버깅 세션
- 코드 리뷰 토론
- 단일 단계 구현

### **명확하지 않은 상황**
- 계획이 아닌 일반적인 토론
- 추상적인 아이디어만 나온 경우
- 구체적인 단계가 없는 경우

## ⚠️ 주의사항

### **과도한 제안 방지**
- 명확한 계획 신호가 있을 때만 제안
- 개발자가 거부하면 더 이상 제안하지 않음
- 자연스러운 대화 흐름 우선

### **신호 해석 주의**
- 모호한 표현은 개발자에게 명확히 확인
- 계획이 아닌 일반적인 질문과 구분
- 컨텍스트를 종합적으로 고려

## 🎯 성공 기준

### **정확한 감지**
- 계획 단계의 90% 이상 감지
- 잘못된 제안 10% 이하
- 개발자 만족도 향상

### **자연스러운 흐름**
- 개발 방해 없는 제안
- 유용한 계획 문서 생성
- 구현 효율성 향상

## 🔗 관련 문서
- `planning-catch-system.md`: Agent용 간결 버전
- `agent-signal-guidelines.md`: 전체 신호 감지 가이드라인
- `developer-signal-guidelines.md`: 상세 신호 분석

---
*이 시스템은 자연스럽고 효과적인 계획 문서화의 기반을 마련합니다.*
