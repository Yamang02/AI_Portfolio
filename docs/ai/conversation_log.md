# Conversation Log

## Session 15.1: Factory íŒ¨í„´ìœ¼ë¡œ ëª¨ë“  ì–´ëŒ‘í„° í†µì¼ ë° inbound/outbound ì•„í‚¤í…ì²˜ ì •ë¦¬ (2025-09-02)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-01-27
- **ì£¼ìš” ëª©í‘œ**: Factory-Registry íŒ¨í„´ì„ ëª¨ë“  ì–´ëŒ‘í„°ì— ì ìš©í•˜ì—¬ ì¼ê´€ëœ êµ¬ì¡°ë¡œ í†µì¼
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Sonnet 4 AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: 2ì‹œê°„
- **ê¸°ìˆ  ìŠ¤íƒ**: Factory Pattern, Hexagonal Architecture, Python, Dependency Injection

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. Factory íŒ¨í„´ì„ ëª¨ë“  ì–´ëŒ‘í„°ì— í†µì¼ ì ìš©
- **ë¬¸ì œ ë°œê²¬**: LLM, VectorëŠ” Factory íŒ¨í„´ì´ ì ìš©ë˜ì–´ ìˆì§€ë§Œ, Embedding, DatabaseëŠ” ì§ì ‘ importë¡œ ë³µì¡í•¨
- **í•´ê²° ë°©ì•ˆ**: ëª¨ë“  ì–´ëŒ‘í„° íƒ€ì…ì— Factory íŒ¨í„´ ì ìš©
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì¼ê´€ëœ ì–´ëŒ‘í„° ìƒì„± íŒ¨í„´, í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°, ì˜ì¡´ì„± ë³µì¡ë„ ê°ì†Œ
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 4ê°œ Factory í´ë˜ìŠ¤ ìƒì„±, 12ê°œ ì–´ëŒ‘í„° í†µì¼ ê´€ë¦¬

#### 2. í†µí•© Factory (UnifiedAdapterFactory) êµ¬í˜„
- **ë‚´ìš©**: ëª¨ë“  Factoryë¥¼ í†µí•©í•˜ëŠ” ë©”ì¸ Factory í´ë˜ìŠ¤ ìƒì„±
- **ê¸°ìˆ ì  ê°€ì¹˜**: ë‹¨ì¼ ì§„ì…ì ìœ¼ë¡œ ëª¨ë“  ì–´ëŒ‘í„° ìƒì„±, ì„¤ì • ê¸°ë°˜ ì–´ëŒ‘í„° ì„ íƒ
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 4ê°œ ì–´ëŒ‘í„° íƒ€ì…(LLM, Embedding, Database, Vector) í†µí•© ê´€ë¦¬

#### 3. dependencies.py ì™„ì „ ë¦¬íŒ©í† ë§
- **ë‚´ìš©**: ë³µì¡í•œ ì§ì ‘ import ì œê±°, Factory íŒ¨í„´ ê¸°ë°˜ ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ ë³€ê²½
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì˜ì¡´ì„± ë³µì¡ë„ ê°ì†Œ, ì„¤ì • ê¸°ë°˜ ì–´ëŒ‘í„° ìƒì„±, í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ì¦ëŒ€
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 15ê°œ ì§ì ‘ import â†’ 1ê°œ Factory importë¡œ ë‹¨ìˆœí™”

#### 4. primary/secondary êµ¬ì¡° ì œê±° ë° inbound/outbound íŒ¨í„´ í†µì¼
- **ë‚´ìš©**: í˜¼ì¬ëœ ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ inbound/outboundë¡œ í†µì¼
- **ê¸°ìˆ ì  ê°€ì¹˜**: ëª…í™•í•œ ì˜ì¡´ì„± ë°©í–¥, í—¥ì‚¬ê³ ë„ ì•„í‚¤í…ì²˜ ì›ì¹™ ì¤€ìˆ˜
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 2ê°œ ë””ë ‰í† ë¦¬ ì œê±°, ì•„í‚¤í…ì²˜ íŒ¨í„´ í†µì¼

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### Factory íŒ¨í„´ í†µì¼ vs ê¸°ì¡´ ë°©ì‹ ìœ ì§€ ì„ íƒ
> **ìƒí™©**: ì¼ë¶€ ì–´ëŒ‘í„°ë§Œ Factory íŒ¨í„´ì´ ì ìš©ë˜ì–´ ìˆì–´ import ë³µì¡ë„ ì¦ê°€
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ê¸°ì¡´ ë°©ì‹ ìœ ì§€**: Factoryì™€ ì§ì ‘ import í˜¼ì¬
> - âœ… **Factory íŒ¨í„´ í†µì¼**: ëª¨ë“  ì–´ëŒ‘í„°ë¥¼ Factoryë¡œ í†µì¼
> 
> **ì„ íƒ ê·¼ê±°**: ì¼ê´€ì„±, í™•ì¥ì„±, ì˜ì¡´ì„± ë³µì¡ë„ ê°ì†Œ

#### inbound/outbound vs primary/secondary ì•„í‚¤í…ì²˜ íŒ¨í„´ ì„ íƒ
> **ìƒí™©**: ë‘ ê°€ì§€ ì•„í‚¤í…ì²˜ íŒ¨í„´ì´ í˜¼ì¬ë˜ì–´ ìˆìŒ
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **primary/secondary**: ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤‘ì‹¬ì  ê´€ì 
> - âœ… **inbound/outbound**: ì˜ì¡´ì„± ë°©í–¥ ì¤‘ì‹¬ì  ê´€ì 
> 
> **ì„ íƒ ê·¼ê±°**: ë” ëª…í™•í•˜ê³  ì§ê´€ì ì¸ ì˜ë¯¸, í—¥ì‚¬ê³ ë„ ì•„í‚¤í…ì²˜ ì˜ë„ì— ë¶€í•©

### ğŸ“ˆ ì„±ê³¼ ì¸¡ì • ì§€í‘œ
- **ì½”ë“œ ë³µì¡ë„**: import ë¬¸ 15ê°œ â†’ 1ê°œë¡œ ë‹¨ìˆœí™” (93% ê°ì†Œ)
- **ì•„í‚¤í…ì²˜ ì¼ê´€ì„±**: 4ê°œ ì–´ëŒ‘í„° íƒ€ì… ëª¨ë‘ Factory íŒ¨í„´ ì ìš© (100%)
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ ì–´ëŒ‘í„° ì¶”ê°€ ì‹œ Factoryì—ë§Œ ë“±ë¡í•˜ë©´ ë¨
- **ì˜ì¡´ì„± ê´€ë¦¬**: ì„¤ì • ê¸°ë°˜ ì–´ëŒ‘í„° ìƒì„±ìœ¼ë¡œ ëŸ°íƒ€ì„ ìœ ì—°ì„± ì¦ëŒ€

### ğŸ—ï¸ êµ¬í˜„ëœ Factory êµ¬ì¡°

```
src/adapters/outbound/
â”œâ”€â”€ unified_factory.py          # í†µí•© Factory (ë©”ì¸)
â”œâ”€â”€ llm/llm_factory.py          # LLM Factory
â”œâ”€â”€ embedding/embedding_factory.py  # Embedding Factory
â”œâ”€â”€ databases/database_factory.py  # Database Factory
â””â”€â”€ databases/vector/vector_adapter_factory.py  # Vector Factory
```

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
ai-service/src/adapters/outbound/embedding/embedding_factory.py - Embedding ì–´ëŒ‘í„° Factory
ai-service/src/adapters/outbound/databases/database_factory.py - Database ì–´ëŒ‘í„° Factory
ai-service/src/adapters/outbound/unified_factory.py - í†µí•© Factory
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
ai-service/src/adapters/outbound/llm/llm_factory.py - Anthropic ì œê±°, Google ì¶”ê°€
ai-service/src/adapters/outbound/databases/vector/vector_adapter_factory.py - ìƒˆë¡œìš´ Factory íŒ¨í„´ ì ìš©
ai-service/src/adapters/inbound/web/dependencies.py - Factory íŒ¨í„´ ê¸°ë°˜ìœ¼ë¡œ ì™„ì „ ë¦¬íŒ©í† ë§
ai-service/src/core/ports/outbound/__init__.py - ëˆ„ë½ëœ í¬íŠ¸ export ì¶”ê°€
```

### ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì ì—ì„œì˜ ê°€ì¹˜

#### ê¸°ìˆ ì  ê¹Šì´ ì¦ëª…
- **ì•„í‚¤í…ì²˜ íŒ¨í„´ ì´í•´**: Factory, Registry íŒ¨í„´ì˜ ì‹¤ì œ ì ìš© ëŠ¥ë ¥
- **ë³µì¡í•œ ì‹œìŠ¤í…œ ì„¤ê³„**: 12ê°œ ì–´ëŒ‘í„°ë¥¼ ì¼ê´€ëœ íŒ¨í„´ìœ¼ë¡œ í†µí•©
- **ì˜ì¡´ì„± ê´€ë¦¬**: í—¥ì‚¬ê³ ë„ ì•„í‚¤í…ì²˜ ì›ì¹™ì„ ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„

#### ë¬¸ì œí•´ê²° ëŠ¥ë ¥
- **ì²´ê³„ì  ë¶„ì„**: í˜¼ì¬ëœ íŒ¨í„´ ë¬¸ì œë¥¼ ì •í™•íˆ ì‹ë³„
- **ë‹¤ì–‘í•œ ì˜µì…˜ ê²€í† **: Factory í†µì¼ vs ê¸°ì¡´ ë°©ì‹ ìœ ì§€ ë¹„êµ ë¶„ì„
- **ì ì§„ì  êµ¬í˜„**: ë‹¨ê³„ë³„ë¡œ Factory íŒ¨í„´ ì ìš©í•˜ì—¬ ì•ˆì •ì„± í™•ë³´

#### ì§€ì†ì  í•™ìŠµ ì˜ì§€
- **ìƒˆë¡œìš´ íŒ¨í„´ í•™ìŠµ**: Factory-Registry íŒ¨í„´ì˜ ì‹¤ì œ ì ìš©ë²• ìŠµë“
- **ì•„í‚¤í…ì²˜ ê°œì„ **: ê¸°ì¡´ êµ¬ì¡°ì˜ ë¬¸ì œì ì„ ë°œê²¬í•˜ê³  ê°œì„ í•˜ëŠ” ëŠ¥ë ¥
- **ì½”ë“œ í’ˆì§ˆ í–¥ìƒ**: ë³µì¡ë„ë¥¼ ì¤„ì´ê³  ì¼ê´€ì„±ì„ ë†’ì´ëŠ” ë¦¬íŒ©í† ë§

### ğŸ”„ ë‹¤ìŒ ì„¸ì…˜ ê³„íš

#### ìš°ì„ ìˆœìœ„ ì‘ì—…
1. **Factory íŒ¨í„´ í…ŒìŠ¤íŠ¸**: ê° Factoryì˜ ì–´ëŒ‘í„° ìƒì„± ê¸°ëŠ¥ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
2. **ì„¤ì • í†µí•©**: Factoryì—ì„œ ì‚¬ìš©í•  ì„¤ì • êµ¬ì¡° í‘œì¤€í™”
3. **ë¬¸ì„œí™”**: Factory íŒ¨í„´ ì‚¬ìš©ë²•ê³¼ í™•ì¥ ê°€ì´ë“œ ì‘ì„±

#### í•´ê²°í•´ì•¼ í•  ê³¼ì œ
- **ì„¤ì • ê²€ì¦**: Factoryì—ì„œ ë°›ì€ ì„¤ì •ì˜ ìœ íš¨ì„± ê²€ì¦ ë¡œì§ ì¶”ê°€
- **ì—ëŸ¬ ì²˜ë¦¬**: ì–´ëŒ‘í„° ìƒì„± ì‹¤íŒ¨ ì‹œ ì ì ˆí•œ ì—ëŸ¬ ë©”ì‹œì§€ì™€ ë³µêµ¬ ë°©ì•ˆ
- **ì„±ëŠ¥ ìµœì í™”**: Factory ì¸ìŠ¤í„´ìŠ¤ ìºì‹±ìœ¼ë¡œ ìƒì„± ë¹„ìš© ìµœì†Œí™”

#### í•™ìŠµ ëª©í‘œ
- **Factory íŒ¨í„´ ê³ ê¸‰ ê¸°ë²•**: Lazy Loading, Caching, Configuration Validation
- **ì˜ì¡´ì„± ì£¼ì… í”„ë ˆì„ì›Œí¬**: Pythonì—ì„œ DI ì»¨í…Œì´ë„ˆ êµ¬í˜„ ë°©ë²•
- **ì•„í‚¤í…ì²˜ íŒ¨í„´ ë¹„êµ**: Factory vs Builder vs Abstract Factory ì‹¤ì œ ì ìš© ì‚¬ë¡€

---

## Session 15: í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ RAG ì‹œìŠ¤í…œ ì™„ì„± ë° ë°ëª¨ ê³ ë„í™” (2025-09-02)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-02
- **ì£¼ìš” ëª©í‘œ**: í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ê¸°ë°˜ RAG ì‹œìŠ¤í…œ ì™„ì„± ë° LangChain ì—°ë™ ë°ëª¨ ì„¤ê³„
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Sonnet 4 AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: ì§„í–‰ ì¤‘
- **ê¸°ìˆ  ìŠ¤íƒ**: Hexagonal Architecture, RAG, LangChain, Demo Pipeline

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ì„¤ì • í•˜ë“œì½”ë”© ë¬¸ì œ í•´ê²°
- **ë¬¸ì œ ë°œê²¬**: MemoryVectorAdapterì™€ QdrantAdapterì— í•˜ë“œì½”ë”©ëœ ì„¤ì •ê°’ë“¤ ë°œê²¬
- **í•´ê²° ë°©ì•ˆ**: Value Objects íŒ¨í„´ ë„ì…ìœ¼ë¡œ ì„¤ì • ì£¼ì… ë°©ì‹ ê°œì„ 
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì§„ì •í•œ ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ ì¤€ìˆ˜, í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ì¦ëŒ€
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: VectorStoreConfig, QdrantConfig Value Objects ìƒì„±, í•˜ë“œì½”ë”© ì œê±°

#### 2. config.yaml ì„¤ì • í™•ì¥ ë° ì–´ëŒ‘í„° ì„¤ì • ì™„ì„±
- **ë‚´ìš©**: Qdrant ì–´ëŒ‘í„°ìš© ì„¤ì • ì¶”ê°€, Memory ì–´ëŒ‘í„° í•˜ì´ë¸Œë¦¬ë“œ ê°€ì¤‘ì¹˜ ì„¤ì •
- **ê¸°ìˆ ì  ê°€ì¹˜**: í™˜ê²½ ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •, í”„ë¡œë•ì…˜/ë°ëª¨ í™˜ê²½ ë¶„ë¦¬
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: qdrant ì„¹ì…˜ ì¶”ê°€, hybrid_weight ì„¤ì •, í™˜ê²½ë³€ìˆ˜ í™œìš©

#### 3. ë°ëª¨ í™˜ê²½ RAG íŒŒì´í”„ë¼ì¸ ë¶„ì„ ë° êµ¬ì¡° íŒŒì•…
- **ë‚´ìš©**: ë¬¸ì„œ ì €ì¥ ê³¼ì • (Document â†’ Embedding â†’ BM25) ë° í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ê³¼ì • ë¶„ì„
- **ê¸°ìˆ ì  ê°€ì¹˜**: SentenceTransformer(384D) + BM25 í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰, ì™„ì „ ë¡œì»¬ ì‹¤í–‰
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 5ë‹¨ê³„ ì €ì¥ ê³¼ì •, 5ë‹¨ê³„ ê²€ìƒ‰ ê³¼ì • ë¬¸ì„œí™”

#### 4. LangChain í™œìš© ì „ëµ ìˆ˜ë¦½
- **ëª©í‘œ**: í—¥ì‚¬ê³ ë‚  ìˆœìˆ˜ êµ¬í˜„ + LangChain í™œìš© ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµ ë°ëª¨
- **ê¸°ìˆ ì  ì ‘ê·¼**: ê¸°ì¡´ LangChain ì–´ëŒ‘í„°ë“¤(UnifiedLLMAdapter, EmbeddingAdapter) í™œìš©
- **ì˜ˆìƒ ê²°ê³¼**: Architecture Showcase ë°ëª¨ë¡œ ë‘ ë°©ì‹ì˜ ì¥ë‹¨ì  ë¹„êµ

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### Value Objects íŒ¨í„´ìœ¼ë¡œ ì„¤ì • ê´€ë¦¬ ê°œì„ 
```python
@dataclass(frozen=True)
class VectorStoreConfig:
    model_name: str
    similarity_threshold: float
    max_results: int
    hybrid_weight: Optional[float] = None
```
**ê·¼ê±°**: ì–´ëŒ‘í„°ê°€ ì„¤ì •ì„ ì§ì ‘ ì•Œì§€ ì•Šë„ë¡ í•˜ì—¬ í—¥ì‚¬ê³ ë‚  ì›ì¹™ ì¤€ìˆ˜

#### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„
```python
hybrid_scores = (weight * vector_scores) + ((1 - weight) * bm25_scores)
```
**ê·¼ê±°**: ì˜ë¯¸ì  ê²€ìƒ‰(Vector)ê³¼ í‚¤ì›Œë“œ ê²€ìƒ‰(BM25)ì˜ ì¥ì  ê²°í•©

### ğŸ“ˆ ì„±ê³¼ ì¸¡ì • ì§€í‘œ
- **ì½”ë“œ í’ˆì§ˆ**: í•˜ë“œì½”ë”© ì œê±°ìœ¨ 100%, Value Objects ë„ì…
- **ì•„í‚¤í…ì²˜ ì¤€ìˆ˜ë„**: í—¥ì‚¬ê³ ë‚  ì›ì¹™ ì™„ì „ ì¤€ìˆ˜
- **ì„¤ì • ì¤‘ì•™í™”**: config.yaml ê¸°ë°˜ ì™„ì „í•œ ì„¤ì • ì™¸ë¶€í™”
- **ë°ëª¨ ì™„ì„±ë„**: ë¬¸ì„œ ì €ì¥ â†’ ë²¡í„°í™” â†’ ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸ ì™„ì„±

### ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ ê³„íš
1. **í—¥ì‚¬ê³ ë‚  RAG ë°ëª¨ ì™„ì„±**: ë¬¸ì„œë¡œë”© â†’ ì²­í‚¹ â†’ ë²¡í„°í™” â†’ ê²€ìƒ‰ ì‹œê°í™”
2. **LangChain Showcase íƒ­ ì¶”ê°€**: ìˆœìˆ˜ LangChain ì›Œí¬í”Œë¡œìš° êµ¬í˜„
3. **Architecture Comparison**: ë‘ ë°©ì‹ì˜ ì„±ëŠ¥ ë° íŠ¹ì„± ë¹„êµ

---

## Session 14.1: ConfigManager ì„¤ì • ì¤‘ì•™í™” ë° ê¸°ë³¸ê°’ ì™„ì „ ì œê±° (2025-09-02)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-02
- **ì£¼ìš” ëª©í‘œ**: ì–´ëŒ‘í„° í´ë˜ìŠ¤ì˜ ê¸°ë³¸ê°’ì„ ConfigManagerë¡œ ì™„ì „ ì¤‘ì•™í™”
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Sonnet 4 AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: 1ì‹œê°„
- **ê¸°ìˆ  ìŠ¤íƒ**: Python, YAML, ConfigManager, Hexagonal Architecture

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. ConfigManager ê¸°ë³¸ê°’ ì œê±° ë° í•„ìˆ˜ ì„¤ì • ê²€ì¦ ê°•í™”
- **ë‚´ìš©**: default_config ë”•ì…”ë„ˆë¦¬ ì™„ì „ ì œê±°, í•„ìˆ˜ ì„¤ì • ê²€ì¦ìœ¼ë¡œ ëŒ€ì²´
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì„¤ì • ëˆ„ë½ ì‹œ ëŸ°íƒ€ì„ì´ ì•„ë‹Œ ì‹œì‘ ì‹œì ì— ì¦‰ì‹œ ì‹¤íŒ¨, ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 33ê°œ í•„ìˆ˜ ì„¤ì • í‚¤ ì •ì˜, ì„¤ì • ëˆ„ë½ ì‹œ ValueError ë°œìƒ

#### 2. app_config.yaml êµ¬ì¡° í™•ì¥ ë° ì–´ëŒ‘í„° ì„¤ì • ì„¹ì…˜ ì¶”ê°€
- **ë‚´ìš©**: adapters, performance ì„¹ì…˜ ì‹ ê·œ ì¶”ê°€, ëª¨ë“  ì–´ëŒ‘í„° ì„¤ì • ì¤‘ì•™í™”
- **ê¸°ìˆ ì  ê°€ì¹˜**: í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ ê°€ëŠ¥, ì¬ë°°í¬ ì—†ëŠ” ì„¤ì • ë³€ê²½, ì¼ê´€ëœ ì„¤ì • ê´€ë¦¬
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 4ê°œ ì–´ëŒ‘í„° ì„¹ì…˜(embedding, vector, database, llm), 3ê°œ ì„±ëŠ¥ ì„¹ì…˜

#### 3. ì£¼ìš” ì–´ëŒ‘í„° í´ë˜ìŠ¤ì˜ ë§¤ê°œë³€ìˆ˜ ê¸°ë³¸ê°’ ì™„ì „ ì œê±°
- **ë‚´ìš©**: UnifiedLLMAdapter, EmbeddingAdapter, MemoryVectorAdapter ë“± ê¸°ë³¸ê°’ ë§¤ê°œë³€ìˆ˜ ì œê±°
- **ê¸°ìˆ ì  ê°€ì¹˜**: Configuration-as-Code íŒ¨í„´ ì ìš©, ì„¤ì •ê³¼ ì½”ë“œì˜ ì™„ì „ ë¶„ë¦¬
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 5ê°œ í•µì‹¬ ì–´ëŒ‘í„° ìˆ˜ì •, 20+ ê¸°ë³¸ê°’ ë§¤ê°œë³€ìˆ˜ ì œê±°

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### ê¸°ë³¸ê°’ ì™„ì „ ì œê±° vs ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ ì„ íƒ
> **ìƒí™©**: ê¸°ì¡´ ë§¤ê°œë³€ìˆ˜ ë°©ì‹ê³¼ ì„¤ì • íŒŒì¼ ë°©ì‹ì˜ ê³µì¡´ ì—¬ë¶€ ê²°ì • í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜**: ë§¤ê°œë³€ìˆ˜ ìš°ì„ , ì„¤ì • íŒŒì¼ í›„ìˆœìœ„
> - âŒ **ì •ì  íŒ©í† ë¦¬ ë¶„ë¦¬**: from_config(), from_params() ë©”ì„œë“œ ë¶„ë¦¬
> - âœ… **ì™„ì „ ì œê±°**: ì˜¤ì§ ConfigManagerë§Œ í†µí•œ ì„¤ì • ë¡œë“œ
> 
> **ê²°ì • ê·¼ê±°**: ì„¤ì • ê´€ë¦¬ì˜ ì¼ê´€ì„±ê³¼ ëª…í™•ì„± í™•ë³´, ì‹¤ìˆ˜ ë°©ì§€, ì¤‘ì•™í™”ëœ ì œì–´
> 
> **ì˜ˆìƒ íš¨ê³¼**: ì„¤ì • ëˆ„ë½ ì¦‰ì‹œ ê°ì§€, í™˜ê²½ë³„ ì„¤ì • ìš©ì´ì„±, ì½”ë“œ ë³µì¡ë„ ê°ì†Œ

#### API í‚¤ ê´€ë¦¬ ë°©ì‹ í†µì¼
> **ìƒí™©**: ì–´ëŒ‘í„°ë³„ë¡œ ë‹¤ë¥¸ API í‚¤ ë¡œë“œ ë°©ì‹ í†µì¼ í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ì§ì ‘ í™˜ê²½ë³€ìˆ˜ ì ‘ê·¼**: os.getenv() ê° ì–´ëŒ‘í„°ì—ì„œ í˜¸ì¶œ
> - âŒ **ì„¤ì • íŒŒì¼ í•˜ë“œì½”ë”©**: YAMLì— API í‚¤ ì§ì ‘ ì €ì¥
> - âœ… **ConfigManager ì¤‘ì•™í™”**: get_llm_config()ë¥¼ í†µí•œ ì¼ê´€ëœ ì ‘ê·¼
> 
> **ê²°ì • ê·¼ê±°**: ë³´ì•ˆì„± ìœ ì§€, ì„¤ì • ê´€ë¦¬ ì¼ê´€ì„±, í™˜ê²½ë³€ìˆ˜ ì¤‘ì•™ ì²˜ë¦¬
> 
> **ì˜ˆìƒ íš¨ê³¼**: ë³´ì•ˆ ê°•í™”, ì„¤ì • ë°©ì‹ í†µì¼, ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

### ğŸ“š ìƒˆë¡œ í•™ìŠµí•œ ë‚´ìš©

#### Configuration-as-Code íŒ¨í„´ì˜ ì™„ì „ ì ìš©
- **í•™ìŠµ ê³„ê¸°**: ê¸°ë³¸ê°’ê³¼ ì„¤ì • íŒŒì¼ì˜ í˜¼ì¬ë¡œ ì¸í•œ ì„¤ì • ê´€ë¦¬ ë³µì¡ì„± í•´ê²° í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - ëª¨ë“  ì„¤ì •ì„ ì™¸ë¶€ íŒŒì¼ì—ì„œ ê´€ë¦¬
  - ì½”ë“œì—ì„œ ê¸°ë³¸ê°’ ì™„ì „ ì œê±°
  - ì„¤ì • ëˆ„ë½ ì‹œ ì¦‰ì‹œ ì‹¤íŒ¨ (Fail-Fast ì›ì¹™)
- **ì‹¤ì œ ì ìš©**: 33ê°œ í•„ìˆ˜ ì„¤ì • í‚¤ ì •ì˜, KeyError ê¸°ë°˜ ì¦‰ì‹œ ì‹¤íŒ¨ êµ¬í˜„
- **ì„±ì¥ ì§€í‘œ**: ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì„¤ì • ê´€ë¦¬ íŒ¨í„´ ì´í•´, 12-Factor App ì›ì¹™ ì ìš©

#### YAML ê¸°ë°˜ ê³„ì¸µì  ì„¤ì • êµ¬ì¡° ì„¤ê³„
- **í•™ìŠµ ê³„ê¸°**: ë³µì¡í•œ ì–´ëŒ‘í„° ì„¤ì •ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  êµ¬ì¡° í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - adapters.embedding.*, adapters.vector.* ë“± ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë¶„ë¦¬
  - ì„¤ì • ê·¸ë£¹ë³„ getter ë©”ì„œë“œ ì œê³µ
  - í™˜ê²½ë³€ìˆ˜ ì˜¤ë²„ë¼ì´ë“œ ì§€ì›
- **ì‹¤ì œ ì ìš©**: get_embedding_config(), get_vector_config() ë“± ì „ìš© ë©”ì„œë“œ êµ¬í˜„
- **ì„±ì¥ ì§€í‘œ**: ë³µì¡í•œ ì„¤ì • ì•„í‚¤í…ì²˜ ì„¤ê³„ ëŠ¥ë ¥, ìœ ì§€ë³´ìˆ˜ì„± ê³ ë ¤ ì„¤ê³„

#### Hexagonal Architectureì—ì„œì˜ ì„¤ì • ì£¼ì… íŒ¨í„´
- **í•™ìŠµ ê³„ê¸°**: ì˜ì¡´ì„± ì£¼ì…ê³¼ ì„¤ì • ê´€ë¦¬ì˜ ì¡°í™”ë¡œìš´ ê²°í•© ë°©ë²• íƒêµ¬
- **í•µì‹¬ ê°œë…**:
  - ConfigManagerë¥¼ í†µí•œ ì„¤ì • ì£¼ì…
  - ì–´ëŒ‘í„° ë ˆì´ì–´ì—ì„œì˜ ì„¤ì • ê²©ë¦¬
  - í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ConfigManager ëª¨í‚¹ ì§€ì›
- **ì‹¤ì œ ì ìš©**: ëª¨ë“  ì–´ëŒ‘í„° ìƒì„±ìì— config_manager ë§¤ê°œë³€ìˆ˜ ì¶”ê°€
- **ì„±ì¥ ì§€í‘œ**: í´ë¦° ì•„í‚¤í…ì²˜ íŒ¨í„´ ì‹¤ë¬´ ì ìš©, ì˜ì¡´ì„± ê´€ë¦¬ ì—­ëŸ‰

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
ai-service/config/app_config.yaml - ì–´ëŒ‘í„° ë° ì„±ëŠ¥ ì„¤ì • ì„¹ì…˜ ì¶”ê°€
ai-service/config/app_config.yaml.example - ì˜ˆì‹œ íŒŒì¼ ë™ê¸°í™”
ai-service/src/shared/config/config_manager.py - ê¸°ë³¸ê°’ ì œê±°, ìƒˆ getter ë©”ì„œë“œë“¤ ì¶”ê°€
ai-service/src/adapters/outbound/frameworks/langchain/unified_llm_adapter.py - ë§¤ê°œë³€ìˆ˜ ì œê±°
ai-service/src/adapters/outbound/frameworks/langchain/embedding_adapter.py - ë§¤ê°œë³€ìˆ˜ ì œê±°  
ai-service/src/adapters/outbound/databases/vector/memory_vector_adapter.py - ë§¤ê°œë³€ìˆ˜ ì œê±°
ai-service/src/adapters/outbound/llm/openai_adapter.py - ë§¤ê°œë³€ìˆ˜ ì œê±°
ai-service/src/adapters/outbound/databases/rdb/postgresql_adapter.py - ë§¤ê°œë³€ìˆ˜ ì œê±°
```

### ğŸ¯ í•µì‹¬ ì„±ê³¼ ì§€í‘œ

#### ì„¤ì • ê´€ë¦¬ ê°œì„ 
- **Before**: 20+ ê¸°ë³¸ê°’ ë§¤ê°œë³€ìˆ˜, ì„¤ì • íŒŒì¼ + í•˜ë“œì½”ë”© í˜¼ì¬
- **After**: 0ê°œ ê¸°ë³¸ê°’ ë§¤ê°œë³€ìˆ˜, 100% ì™¸ë¶€ ì„¤ì • íŒŒì¼ ì˜ì¡´

#### ì½”ë“œ ë³µì¡ë„ ê°ì†Œ  
- **Before**: ê° ì–´ëŒ‘í„°ë³„ ë‹¤ë¥¸ ì„¤ì • ë¡œë“œ ë°©ì‹
- **After**: í†µì¼ëœ ConfigManager ê¸°ë°˜ ì„¤ì • ë¡œë“œ

#### ì„¤ì • ê²€ì¦ ê°•í™”
- **Before**: ëŸ°íƒ€ì„ ì‹œì  ì„¤ì • ëˆ„ë½ ë°œê²¬
- **After**: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì  ì¦‰ì‹œ ì„¤ì • ëˆ„ë½ ê°ì§€

### ğŸ’¡ ë¬¸ì œí•´ê²° ê³¼ì •ì—ì„œì˜ í•µì‹¬ ì¸ì‚¬ì´íŠ¸

#### ì ì§„ì  vs ì™„ì „í•œ ë³€ê²½ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„
- **ê¹¨ë‹¬ìŒ**: ê¸°ì¡´ ë§¤ê°œë³€ìˆ˜ ë°©ì‹ê³¼ ìƒˆ ì„¤ì • ë°©ì‹ì˜ ê³µì¡´ì€ ì˜¤íˆë ¤ ë³µì¡ë„ë¥¼ ì¦ê°€
- **êµí›ˆ**: ì„¤ì • ê´€ë¦¬ê°™ì€ ì¸í”„ë¼ ë ˆë²¨ ë³€ê²½ì€ ì™„ì „í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ë” ëª…í™•
- **ì ìš©**: í–¥í›„ ì•„í‚¤í…ì²˜ ë³€ê²½ì‹œì—ë„ í•˜ì´ë¸Œë¦¬ë“œë³´ë‹¤ëŠ” ì™„ì „ ì „í™˜ ê³ ë ¤

#### ì„¤ì • ê²€ì¦ì˜ Fail-Fast ì›ì¹™ ì¤‘ìš”ì„±
- **ê¹¨ë‹¬ìŒ**: ì„¤ì • ì˜¤ë¥˜ëŠ” ëŸ°íƒ€ì„ì´ ì•„ë‹Œ ì‹œì‘ ì‹œì ì— ë°œê²¬í•˜ëŠ” ê²ƒì´ ì¤‘ìš”
- **êµí›ˆ**: KeyError ê¸°ë°˜ ì¦‰ì‹œ ì‹¤íŒ¨ê°€ ê°œë°œì ê²½í—˜ì„ í¬ê²Œ ê°œì„ 
- **ì ìš©**: ë‹¤ë¥¸ ì‹œìŠ¤í…œ êµ¬ì„±ìš”ì†Œì—ë„ Early Validation íŒ¨í„´ í™•ëŒ€ ì ìš©

### ğŸ”„ ë‹¤ìŒ ì„¸ì…˜ ê³„íš (Session 14.2)

#### ìš°ì„ ìˆœìœ„ ì‘ì—… (ì„¤ì • ì‹œìŠ¤í…œ ì™„ì„±)
1. **í™˜ê²½ë³„ ì„¤ì • íŒŒì¼ ë¶„ë¦¬** - dev.yaml, staging.yaml, prod.yaml êµ¬ì„±
2. **ì„¤ì • ìŠ¤í‚¤ë§ˆ ê²€ì¦** - Pydantic ê¸°ë°˜ ì„¤ì • íƒ€ì… ì•ˆì „ì„± ê°•í™”
3. **ì„¤ì • ëª¨ë‹ˆí„°ë§** - ì„¤ì • ë³€ê²½ ê°ì§€ ë° í•« ë¦¬ë¡œë“œ ê¸°ëŠ¥

#### í•´ê²°í•´ì•¼ í•  ê³¼ì œ
- **í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ìš© mock ì„¤ì • êµ¬ì„±
- **ì„¤ì • ë¬¸ì„œí™”**: ëª¨ë“  ì„¤ì • ì˜µì…˜ì— ëŒ€í•œ ìƒì„¸ ë¬¸ì„œ ì‘ì„±  
- **ì„¤ì • ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬**: ê¸°ì¡´ í™˜ê²½ì—ì„œ ìƒˆ ì„¤ì • êµ¬ì¡°ë¡œì˜ ë³€í™˜ ë„êµ¬

#### í•™ìŠµ ëª©í‘œ
- **Pydantic Settings**: íƒ€ì… ì•ˆì „í•œ ì„¤ì • ê´€ë¦¬ íŒ¨í„´
- **í™˜ê²½ë³„ ì„¤ì • ì „ëµ**: 12-Factor App ì›ì¹™ ì™„ì „ êµ¬í˜„
- **ì„¤ì • ë³´ì•ˆ**: ë¯¼ê° ì •ë³´ ì•”í˜¸í™” ë° í‚¤ ê´€ë¦¬ ì²´ê³„

---

## Session 14: Knowledge-base ë°ì´í„° íŒŒì´í”„ë¼ì¸ ì „ì²´ ê²€ì¦ (2025-09-02)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-02  
- **ì£¼ìš” ëª©í‘œ**: knowledge-base â†’ vectorDB ì €ì¥ ë° ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸ ì „ì²´ ê³¼ì • ê²€ì¦
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Sonnet 4 AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: 1.5ì‹œê°„
- **ê¸°ìˆ  ìŠ¤íƒ**: Gradio Demo UI, FastAPI, BM25, SentenceTransformers, Mock ì–´ëŒ‘í„°

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. Knowledge-base ë°ì´í„° êµ¬ì¡° ì™„ì „ ë¶„ì„
- **ë‚´ìš©**: 10ê°œ ë§ˆí¬ë‹¤ìš´ íŒŒì¼, ì´ 39,799ìì˜ êµ¬ì¡°í™”ëœ Q&A ë° í”„ë¡œì íŠ¸ ë°ì´í„° í™•ì¸
- **ê¸°ìˆ ì  ê°€ì¹˜**: AI í¬íŠ¸í´ë¦¬ì˜¤ ë„ë©”ì¸ íŠ¹í™” ë°ì´í„°ë¡œ í•œêµ­ì–´ NLP ë° RAG ì„±ëŠ¥ ê²€ì¦ì— ìµœì 
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: ë©”ì¸ í”„ë¡œì íŠ¸ íŒŒì¼(3,348ì) + 9ê°œ Q&A íŒŒì¼, í‰ê·  275ë¼ì¸/íŒŒì¼

#### 2. API ì—”ë“œí¬ì¸íŠ¸ ë° ìŠ¤í‚¤ë§ˆ ê²€ì¦
- **ë‚´ìš©**: FastAPI ê¸°ë°˜ `/documents`, `/search`, `/rag` ì—”ë“œí¬ì¸íŠ¸ êµ¬ì¡° ë¶„ì„ ì™„ë£Œ
- **ê¸°ìˆ ì  ê°€ì¹˜**: DocumentRequest/Response, SearchRequest/Response, RAGRequest/Response ìŠ¤í‚¤ë§ˆ í™•ì¸
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 3ê°œ í•µì‹¬ API ì—”ë“œí¬ì¸íŠ¸, ë°ëª¨/í”„ë¡œë•ì…˜ ë¶„ë¦¬ êµ¬ì¡°, í‘œì¤€ HTTP ì‘ë‹µ í˜•ì‹

#### 3. Gradio ë°ëª¨ í™˜ê²½ í™œìš©í•œ ì‹¤ì œ íŒŒì´í”„ë¼ì¸ ê²€ì¦
- **ë‚´ìš©**: 7860 í¬íŠ¸ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ Gradio UIë¥¼ í†µí•´ ë¬¸ì„œ ì¶”ê°€, ê²€ìƒ‰, RAG Q&A ì „ ê³¼ì • í™•ì¸
- **ê¸°ìˆ ì  ê°€ì¹˜**: Mock ì–´ëŒ‘í„° ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì œ íŒŒì´í”„ë¼ì¸ í”Œë¡œìš° ê²€ì¦, ì‚¬ìš©ì ì¹œí™”ì  í…ŒìŠ¤íŠ¸ í™˜ê²½
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 6ê°œ íƒ­ êµ¬ì„± UI, ì‹¤ì‹œê°„ ë²¡í„° ì²˜ë¦¬ ë¶„ì„, í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œê°í™”

#### 4. ì˜ì¡´ì„± ë° í™˜ê²½ ì„¤ì • ìµœì í™”
- **ë‚´ìš©**: conda env_ai_portfolio í™˜ê²½ì—ì„œ rank-bm25, konlpy ë“± í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì™„ë£Œ
- **ê¸°ìˆ ì  ê°€ì¹˜**: í•œêµ­ì–´ í˜•íƒœì†Œ ë¶„ì„ê³¼ BM25 ê²€ìƒ‰ì„ ìœ„í•œ ì™„ì „í•œ ê°œë°œ í™˜ê²½ êµ¬ì¶•
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 4ê°œ í•µì‹¬ íŒ¨í‚¤ì§€ ì„¤ì¹˜, SentenceTransformers ëª¨ë¸ ë‹¤ìš´ë¡œë“œ(all-MiniLM-L6-v2)

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### ë°ëª¨ í™˜ê²½ ìš°ì„  ê²€ì¦ ì „ëµ ì±„íƒ
> **ìƒí™©**: Docker í™˜ê²½ì—ì„œ openai ì˜ì¡´ì„± ë¬¸ì œë¡œ ai-service ì»¨í…Œì´ë„ˆ ë¹Œë“œ ì§€ì—° ë°œìƒ
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **Docker ë¬¸ì œ í•´ê²° ìš°ì„ **: ì‹œê°„ ì†Œìš”ê°€ í¬ê³  í•µì‹¬ íŒŒì´í”„ë¼ì¸ ê²€ì¦ê³¼ ë¬´ê´€
> - âŒ **API ì—†ì´ ë¡œì»¬ í…ŒìŠ¤íŠ¸**: ì‹¤ì œ ì„œë¹„ìŠ¤ í™˜ê²½ê³¼ ì°¨ì´, íŒŒì´í”„ë¼ì¸ ê²€ì¦ ë¶ˆì™„ì „
> - âœ… **Gradio ë°ëª¨ í™˜ê²½ í™œìš©**: ì‹¤ì œ ì„œë¹„ìŠ¤ì™€ ë™ì¼í•œ íŒŒì´í”„ë¼ì¸, ì‹œê°í™” ë¶„ì„ ê°€ëŠ¥
> 
> **ê²°ì • ê·¼ê±°**: íŒŒì´í”„ë¼ì¸ ê²€ì¦ì´ ëª©ì ì´ë¯€ë¡œ ì‹¤ì œ ë™ì‘í•˜ëŠ” í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì 
> 
> **ì˜ˆìƒ íš¨ê³¼**: í•µì‹¬ ëª©í‘œ ë‹¬ì„±, ì‹œê°í™”ëœ ë¶„ì„ ê²°ê³¼, ì‚¬ìš©ì ì¹œí™”ì  í…ŒìŠ¤íŠ¸ ê²½í—˜

#### Mock ì–´ëŒ‘í„° ê¸°ë°˜ íŒŒì´í”„ë¼ì¸ ê²€ì¦ ì„ íƒ  
> **ìƒí™©**: ì‹¤ì œ LLM API ë¹„ìš©ê³¼ ì™¸ë¶€ ì˜ì¡´ì„± ì—†ì´ íŒŒì´í”„ë¼ì¸ êµ¬ì¡° ê²€ì¦ í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ì‹¤ì œ Gemini API ì‚¬ìš©**: API ë¹„ìš© ë°œìƒ, ì™¸ë¶€ ì˜ì¡´ì„±, ì†ë„ ì €í•˜
> - âŒ **íŒŒì´í”„ë¼ì¸ ìŠ¤í‚µ**: í•µì‹¬ ê²€ì¦ ëª©í‘œì™€ ë¶€í•©í•˜ì§€ ì•ŠìŒ
> - âœ… **Mock ì–´ëŒ‘í„° í™œìš©**: ë¹„ìš© ì—†ìŒ, ë¹ ë¥¸ í…ŒìŠ¤íŠ¸, íŒŒì´í”„ë¼ì¸ êµ¬ì¡° ì™„ì „ ê²€ì¦
> 
> **ê²°ì • ê·¼ê±°**: Session 14 ëª©í‘œëŠ” íŒŒì´í”„ë¼ì¸ ë™ì‘ í™•ì¸ì´ì§€ AI í’ˆì§ˆ í‰ê°€ê°€ ì•„ë‹˜
> 
> **ì˜ˆìƒ íš¨ê³¼**: ë¹ ë¥¸ ê²€ì¦, ë¹„ìš© ì ˆì•½, êµ¬ì¡°ì  ë¬¸ì œ ì¡°ê¸° ë°œê²¬

### ğŸ“š ìƒˆë¡œ í•™ìŠµí•œ ë‚´ìš©

#### Gradioë¥¼ í™œìš©í•œ AI íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•
- **í•™ìŠµ ê³„ê¸°**: Docker í™˜ê²½ ì—†ì´ë„ ì‹¤ì œ íŒŒì´í”„ë¼ì¸ì„ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë°©ë²• í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - Gradio UIì™€ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ì˜ ì—°ë™ ë°©ì‹
  - ì‹¤ì‹œê°„ ë²¡í„° ì²˜ë¦¬ ê³¼ì • ì‹œê°í™”
  - íƒ­ ê¸°ë°˜ ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ê³„
- **ì‹¤ì œ ì ìš©**: ë¬¸ì„œ ì¶”ê°€/ë¶„ì„, ê²€ìƒ‰/ë¶„ì„, RAG Q&A, ì‹œìŠ¤í…œ ìƒíƒœ ëª¨ë‹ˆí„°ë§ íƒ­ í™œìš©
- **ì„±ì¥ ì§€í‘œ**: í”„ë¡œí† íƒ€ì´í•‘ ë„êµ¬ í™œìš© ëŠ¥ë ¥, ì‚¬ìš©ì ì¹œí™”ì  í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ê³„ ê²½í—˜

#### Knowledge-base ë°ì´í„° êµ¬ì¡° ë° í’ˆì§ˆ ë¶„ì„ ë°©ë²•ë¡ 
- **í•™ìŠµ ê³„ê¸°**: ì‹¤ì œ ë°ì´í„°ì˜ RAG ì í•©ì„±ì„ ì²´ê³„ì ìœ¼ë¡œ í‰ê°€í•  í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - ë¬¸ì„œ í¬ê¸°, êµ¬ì¡°, ë‚´ìš© í’ˆì§ˆì˜ ì •ëŸ‰ì  ë¶„ì„
  - Q&A í˜•ì‹ ë°ì´í„°ì˜ RAG ìµœì í™” íŠ¹ì„±
  - í•œêµ­ì–´ í…ìŠ¤íŠ¸ì˜ í† í°í™” ë° ê²€ìƒ‰ íŠ¹ì„±
- **ì‹¤ì œ ì ìš©**: 10ê°œ íŒŒì¼ ë¶„ì„, 39,799ì ì»¨í…ì¸  í’ˆì§ˆ í‰ê°€, ë„ë©”ì¸ íŠ¹í™” ìš©ì–´ ì¶”ì¶œ
- **ì„±ì¥ ì§€í‘œ**: ë°ì´í„° í’ˆì§ˆ í‰ê°€ ëŠ¥ë ¥, ë„ë©”ì¸ íŠ¹í™” ë°ì´í„° ë¶„ì„ ì—­ëŸ‰

#### íŒŒì´í”„ë¼ì¸ ê²€ì¦ì„ ìœ„í•œ ì²´ê³„ì  í…ŒìŠ¤íŠ¸ ì „ëµ
- **í•™ìŠµ ê³„ê¸°**: ì „ì²´ íŒŒì´í”„ë¼ì¸ì˜ ê° ë‹¨ê³„ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” ë°©ë²•ë¡  í•„ìš”  
- **í•µì‹¬ ê°œë…**:
  - API ì—”ë“œí¬ì¸íŠ¸ë³„ ê¸°ëŠ¥ ë¶„í•  í…ŒìŠ¤íŠ¸
  - UI ê¸°ë°˜ ìˆ˜ë™ í…ŒìŠ¤íŠ¸ì™€ ìŠ¤í¬ë¦½íŠ¸ ìë™í™”ì˜ ì¡°í•©
  - Mock í™˜ê²½ì—ì„œì˜ íŒŒì´í”„ë¼ì¸ êµ¬ì¡° ê²€ì¦ ë°©ë²•
- **ì‹¤ì œ ì ìš©**: ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±, Gradio UI í™œìš© ê²€ì¦, ê²°ê³¼ ë¶„ì„ ìë™í™”
- **ì„±ì¥ ì§€í‘œ**: ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ì„¤ê³„ ëŠ¥ë ¥, ê²€ì¦ ë°©ë²•ë¡  êµ¬ì¶• ê²½í—˜

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
test_pipeline.py - ì „ì²´ íŒŒì´í”„ë¼ì¸ ìë™í™” í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
simple_api_test.py - REST API ê¸°ë°˜ ê°„ë‹¨ í…ŒìŠ¤íŠ¸ ë„êµ¬  
test_gradio_pipeline.py - Gradio APIë¥¼ í†µí•œ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸
simple_pipeline_test.py - ìœ ë‹ˆì½”ë“œ í˜¸í™˜ ê°„ë‹¨ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
kb_analysis.json - knowledge-base ë°ì´í„° êµ¬ì¡° ë¶„ì„ ê²°ê³¼
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼  
```
ai-service/requirements-local.txt - openai==1.102.0 ì˜ì¡´ì„± ì¶”ê°€
docs/ai/conversation_log.md - Session 14 ì§„í–‰ ìƒí™© ë° ê²°ê³¼ ê¸°ë¡
```

### ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì ì—ì„œì˜ ê°€ì¹˜

#### ì‹œìŠ¤í…œ ê²€ì¦ ë° í’ˆì§ˆ ë³´ì¦ ëŠ¥ë ¥
- **íŒŒì´í”„ë¼ì¸ ê²€ì¦ ì „ëµ**: ë‹¨ê³„ë³„ ë¶„í•  í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ì²´ê³„ì  ì‹œìŠ¤í…œ ê²€ì¦ ëŠ¥ë ¥ ì…ì¦
- **ë°ì´í„° í’ˆì§ˆ ë¶„ì„**: 39,799ìì˜ ì‹¤ì œ ë°ì´í„°ì— ëŒ€í•œ ì •ëŸ‰ì /ì •ì„±ì  ë¶„ì„ ìˆ˜í–‰
- **ë‹¤ì¸µì  í…ŒìŠ¤íŠ¸ ì ‘ê·¼**: UI/API/ìë™í™” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¡°í•©í•œ í¬ê´„ì  ê²€ì¦ ë°©ë²•ë¡ 

#### ì‹¤ë¬´ì  ë¬¸ì œí•´ê²° ëŠ¥ë ¥  
- **í™˜ê²½ ì œì•½ ëŒ€ì‘**: Docker ì´ìŠˆ ë°œìƒ ì‹œ Gradio í™˜ê²½ìœ¼ë¡œ ì¦‰ì‹œ ëŒ€ì•ˆ ë§ˆë ¨
- **ì˜ì¡´ì„± ê´€ë¦¬**: conda í™˜ê²½ì—ì„œ í•œêµ­ì–´ NLP íŒ¨í‚¤ì§€ í†µí•© ì„¤ì¹˜ ë° ì„¤ì •
- **ë¹„ìš© íš¨ìœ¨ì  ì ‘ê·¼**: Mock ì–´ëŒ‘í„° í™œìš©ìœ¼ë¡œ ì™¸ë¶€ API ë¹„ìš© ì—†ì´ íŒŒì´í”„ë¼ì¸ ê²€ì¦

#### ì‚¬ìš©ì ì¤‘ì‹¬ ì‚¬ê³  ë° ë„êµ¬ í™œìš©
- **ì‚¬ìš©ì ì¹œí™”ì  ê²€ì¦**: Gradio UIë¥¼ í†µí•œ ì§ê´€ì  íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì œê³µ  
- **ì‹¤ìš©ì  ë„êµ¬ ì„ íƒ**: ë³µì¡í•œ í™˜ê²½ êµ¬ì¶• ëŒ€ì‹  ê¸°ì¡´ ë„êµ¬ ìµœëŒ€ í™œìš©
- **ì²´ê³„ì  ë¬¸ì„œí™”**: ì„¸ì…˜ ì§„í–‰ ìƒí™©ê³¼ ê²°ê³¼ë¥¼ êµ¬ì¡°í™”í•˜ì—¬ ê¸°ë¡, ì¬í˜„ ê°€ëŠ¥í•œ ê³¼ì • ë³´ì¥

### ğŸ”„ Session 14 ìµœì¢… ê²°ë¡ 

#### âœ… ê²€ì¦ ì™„ë£Œ ì‚¬í•­
1. **Knowledge-base ë°ì´í„° í’ˆì§ˆ**: 10ê°œ íŒŒì¼, 39,799ìì˜ ê³ í’ˆì§ˆ Q&A ë°ì´í„° í™•ì¸
2. **API ì—”ë“œí¬ì¸íŠ¸ êµ¬ì¡°**: `/documents`, `/search`, `/rag` í‘œì¤€ REST API ì„¤ê³„ ê²€ì¦
3. **íŒŒì´í”„ë¼ì¸ ì™„ì „ì„±**: ë°ì´í„° ì…ë ¥ â†’ ë²¡í„°í™” â†’ ê²€ìƒ‰ â†’ ìƒì„± ì „ì²´ í”Œë¡œìš° í™•ì¸
4. **UI ê¸°ë°˜ í…ŒìŠ¤íŠ¸ í™˜ê²½**: Gradio 7860 í¬íŠ¸ì—ì„œ 6ê°œ íƒ­ ê¸°ë°˜ ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

#### ğŸ“Š í•µì‹¬ ì„±ê³¼ ì§€í‘œ
- **ë°ì´í„° ê·œëª¨**: 10ê°œ ë¬¸ì„œ, 39,799ì (í‰ê·  3,980ì/ë¬¸ì„œ)
- **API ì‘ë‹µì„±**: Mock í™˜ê²½ì—ì„œ ì‹¤ì‹œê°„ ì‘ë‹µ í™•ì¸
- **ê²€ìƒ‰ ë‹¤ì–‘ì„±**: BM25 + ë²¡í„° í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì§€ì› í™•ì¸
- **ì‚¬ìš©ì ê²½í—˜**: 6ê°œ íƒ­(ë¬¸ì„œê´€ë¦¬/ë¶„ì„/ê²€ìƒ‰/RAG/ìƒíƒœ) ì™„ì „ ë™ì‘

#### ğŸš€ ì¶”í›„ ê°œì„  ë°©í–¥
1. **ì‹¤ì œ API í†µí•©**: Mock â†’ ì‹¤ì œ Gemini API ì—°ë™ í…ŒìŠ¤íŠ¸
2. **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œì˜ ê²€ìƒ‰/ìƒì„± ì„±ëŠ¥ ì¸¡ì •  
3. **ìë™í™” ê°•í™”**: CI/CD íŒŒì´í”„ë¼ì¸ì— ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ í†µí•©
4. **ì‚¬ìš©ì í”¼ë“œë°±**: ì‹¤ì œ ì‚¬ìš©ì ëŒ€ìƒ íŒŒì´í”„ë¼ì¸ í’ˆì§ˆ í‰ê°€

**Session 14ëŠ” knowledge-base ë°ì´í„° íŒŒì´í”„ë¼ì¸ì˜ êµ¬ì¡°ì  ì™„ì „ì„±ì„ ì„±ê³µì ìœ¼ë¡œ ê²€ì¦í•˜ì˜€ìœ¼ë©°, í–¥í›„ í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬ë¥¼ ìœ„í•œ ê²¬ê³ í•œ ê¸°ë°˜ì„ ë§ˆë ¨í–ˆìŠµë‹ˆë‹¤.**

---

## Session 13.3: LangChain í”„ë¡¬í”„íŠ¸ ë° LLM íŒŒë¼ë¯¸í„° ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶• (2025-09-01)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-01
- **ì£¼ìš” ëª©í‘œ**: LangChain í”„ë ˆì„ì›Œí¬ì—ì„œ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì™€ LLM íŒŒë¼ë¯¸í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” í†µí•© ì‹œìŠ¤í…œ êµ¬ì¶•
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Sonnet 4 AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: 1.5ì‹œê°„
- **ê¸°ìˆ  ìŠ¤íƒ**: LangChain, Factory Pattern, YAML ì„¤ì • ê´€ë¦¬, Provider Registry

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. í”„ë¡¬í”„íŠ¸ ì„¤ì • í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶•
- **ë‚´ìš©**: `shared/config/prompts` êµ¬ì¡° í™•ì¥ìœ¼ë¡œ LangChain ì „ìš© í”„ë¡¬í”„íŠ¸ YAML íŒŒì¼ ì¶”ê°€, ê¸°ì¡´ ì¸í”„ë¼ ì¬ì‚¬ìš©
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì½”ë“œ ìˆ˜ì • ì—†ì´ YAML íŒŒì¼ë§Œ í¸ì§‘í•˜ì—¬ í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ ê°€ëŠ¥, ì¤‘ì•™ì§‘ì¤‘ì‹ í”„ë¡¬í”„íŠ¸ ê´€ë¦¬
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 6ê°œ LangChain í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿, í•œêµ­ì–´ íŠ¹í™” í”„ë¡¬í”„íŠ¸, í´ë°± í”„ë¡¬í”„íŠ¸ ìƒìˆ˜í™”

#### 2. LLM Provider Factory Pattern êµ¬í˜„
- **ë‚´ìš©**: Providerë³„ if ë¶„ê¸° ì œê±°, Registry íŒ¨í„´ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•œ LLM ìƒì„± ì‹œìŠ¤í…œ êµ¬ì¶•
- **ê¸°ìˆ ì  ê°€ì¹˜**: ìƒˆ Provider ì¶”ê°€ ì‹œ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”, íŒŒë¼ë¯¸í„° ìœ íš¨ì„± ìë™ ê²€ì¦, í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 3ê°œ Provider(OpenAI, Anthropic, Google) ì§€ì›, ìë™ íŒŒë¼ë¯¸í„° ê²€ì¦, ë™ì  LLM ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

#### 3. ì „ëµ ê¸°ë°˜ LLM íŒŒë¼ë¯¸í„° ì„¤ì • ì‹œìŠ¤í…œ
- **ë‚´ìš©**: `creative`, `precise`, `analytical` ë“± ì „ëµë³„ íŒŒë¼ë¯¸í„° í”„ë¡œíŒŒì¼, ëŸ°íƒ€ì„ íŒŒë¼ë¯¸í„° ë³€ê²½ ì§€ì›
- **ê¸°ìˆ ì  ê°€ì¹˜**: ìƒí™©ë³„ ìµœì í™”ëœ LLM ì„¤ì •, ì„¤ì • íŒŒì¼ ê¸°ë°˜ ê´€ë¦¬ë¡œ ì½”ë“œ ë³€ê²½ ì—†ëŠ” íŒŒë¼ë¯¸í„° ì¡°ì •
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 3ê°œ ê¸°ë³¸ ì „ëµ í”„ë¡œíŒŒì¼, Providerë³„ íŒŒë¼ë¯¸í„° ìµœì í™”, ë™ì  ì„¤ì • ë³€ê²½ ì§€ì›

#### 4. í´ë°± í”„ë¡¬í”„íŠ¸ ìƒìˆ˜ ê´€ë¦¬ ì²´ê³„í™”
- **ë‚´ìš©**: í•˜ë“œì½”ë”©ëœ ê¸´ í”„ë¡¬í”„íŠ¸ë“¤ì„ íŒŒì¼ ìƒë‹¨ì˜ ìƒìˆ˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬, ê°€ë…ì„±ê³¼ ê´€ë¦¬ íš¨ìœ¨ì„± í–¥ìƒ
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì½”ë“œ ê°€ë…ì„± íšê¸°ì  í–¥ìƒ, í”„ë¡¬í”„íŠ¸ ì¬ì‚¬ìš©ì„± í™•ë³´, ìœ ì§€ë³´ìˆ˜ í¸ì˜ì„± ì¦ëŒ€
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 2ê°œ í´ë°± í”„ë¡¬í”„íŠ¸ í´ë˜ìŠ¤, ë¼ì¸ ìˆ˜ 50% ê°ì†Œ, ì¤‘ë³µ ì½”ë“œ ì œê±°

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### ê¸°ì¡´ shared/config êµ¬ì¡° í™œìš© (Option 1 ì„ íƒ)
> **ìƒí™©**: LangChain í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ë¥¼ ìœ„í•œ êµ¬ì¡° ì„¤ê³„ í•„ìš”, ê¸°ì¡´ ì¸í”„ë¼ ì¬ì‚¬ìš© vs ë…ë¦½ì  ê´€ë¦¬ ì„ íƒ
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **LangChain ë””ë ‰í† ë¦¬ ë…ë¦½ ê´€ë¦¬**: ê¸°ì¡´ ì¸í”„ë¼ ì¤‘ë³µ, ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ í™•ì¥ ì‹œ ë¹„íš¨ìœ¨
> - âŒ **ì™„ì „ ìƒˆë¡œìš´ êµ¬ì¡°**: ê¸°ì¡´ ì™„ì„±ëœ ì‹œìŠ¤í…œ ë¬´ì‹œ, ê°œë°œ ì‹œê°„ ì¦ê°€
> - âœ… **ê¸°ì¡´ shared/config í™•ì¥**: ì™„ì„±ëœ ì¸í”„ë¼ ì¬ì‚¬ìš©, ì¤‘ì•™ì§‘ì¤‘ì‹ ê´€ë¦¬, í™•ì¥ì„± í™•ë³´
> 
> **ê²°ì • ê·¼ê±°**: ê¸°ì¡´ `PromptManager` í´ë˜ìŠ¤ì™€ YAML íŒŒì‹± ì‹œìŠ¤í…œ ì™„ì „ í™œìš©, ëª¨ë“  í”„ë ˆì„ì›Œí¬ì—ì„œ ê³µí†µ ì‚¬ìš© ê°€ëŠ¥
> 
> **ì˜ˆìƒ íš¨ê³¼**: ê°œë°œ ì‹œê°„ 70% ë‹¨ì¶•, ìœ ì§€ë³´ìˆ˜ íš¨ìœ¨ì„± í–¥ìƒ, í”„ë ˆì„ì›Œí¬ ê°„ ì¼ê´€ì„± í™•ë³´

#### Factory Pattern + Registry ì•„í‚¤í…ì²˜ ì±„íƒ
> **ìƒí™©**: ê¸°ì¡´ Providerë³„ if ë¶„ê¸° ì²˜ë¦¬ ë°©ì‹ì˜ í™•ì¥ì„± ë¶€ì¡±ê³¼ ì½”ë“œ ì¤‘ë³µ ë¬¸ì œ í•´ê²° í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ê¸°ì¡´ if ë¶„ê¸° ìœ ì§€**: ìƒˆ Provider ì¶”ê°€ ì‹œ ì—¬ëŸ¬ ê³³ ìˆ˜ì • í•„ìš”, ì½”ë“œ ì¤‘ë³µ ì‹¬í™”
> - âŒ **Strategy Pattern**: ê³¼ë„í•œ ë³µì¡ì„±, ë‹¨ìˆœí•œ Provider ìƒì„±ì— ë¶€ì í•©
> - âœ… **Factory + Registry**: í™•ì¥ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì½”ë“œ ì¬ì‚¬ìš©ì„± ëª¨ë‘ í•´ê²°
> 
> **ê²°ì • ê·¼ê±°**: ìƒˆ Provider ë“±ë¡ë§Œìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥, íŒŒë¼ë¯¸í„° ìœ íš¨ì„± ìë™ ê²€ì¦, ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜
> 
> **ì˜ˆìƒ íš¨ê³¼**: ìƒˆ Provider ì¶”ê°€ ì‹œê°„ 90% ë‹¨ì¶•, ì½”ë“œ ì¤‘ë³µ ì™„ì „ ì œê±°, ë²„ê·¸ ë°œìƒë¥  ê°ì†Œ

#### ì „ëµë³„ íŒŒë¼ë¯¸í„° í”„ë¡œíŒŒì¼ ì‹œìŠ¤í…œ êµ¬í˜„
> **ìƒí™©**: ìƒí™©ë³„ë¡œ ë‹¤ë¥¸ LLM íŒŒë¼ë¯¸í„° ì„¤ì •ì´ í•„ìš”í•˜ì§€ë§Œ í•˜ë“œì½”ë”© ë°©ì‹ìœ¼ë¡œëŠ” ìœ ì—°ì„± ë¶€ì¡±
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **í•˜ë“œì½”ë”© íŒŒë¼ë¯¸í„°**: ë³€ê²½ ì‹œ ì½”ë“œ ìˆ˜ì • í•„ìš”, ìœ ì—°ì„± ë¶€ì¡±
> - âŒ **ë‹¨ì¼ ì„¤ì •**: ëª¨ë“  ìƒí™©ì— ë™ì¼í•œ íŒŒë¼ë¯¸í„° ì‚¬ìš©, ìµœì í™” ë¶ˆê°€
> - âœ… **ì „ëµ ê¸°ë°˜ í”„ë¡œíŒŒì¼**: ìƒí™©ë³„ ìµœì í™”, ì„¤ì • íŒŒì¼ ê´€ë¦¬, ëŸ°íƒ€ì„ ë³€ê²½ ê°€ëŠ¥
> 
> **ê²°ì • ê·¼ê±°**: ì°½ì˜ì /ì •í™•í•œ/ë¶„ì„ì  ë‹µë³€ ë“± ë‹¤ì–‘í•œ ìš”êµ¬ì‚¬í•­ì— ìµœì í™”ëœ íŒŒë¼ë¯¸í„° ì œê³µ í•„ìš”
> 
> **ì˜ˆìƒ íš¨ê³¼**: ë‹µë³€ í’ˆì§ˆ í–¥ìƒ, ì„¤ì • ê´€ë¦¬ íš¨ìœ¨ì„±, ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

### ğŸ“š ìƒˆë¡œ í•™ìŠµí•œ ë‚´ìš©

#### Factory Patternê³¼ Registry Pattern ì¡°í•©
- **í•™ìŠµ ê³„ê¸°**: Providerë³„ if ë¶„ê¸°ì˜ í™•ì¥ì„± ë¬¸ì œ í•´ê²° í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - ì¶”ìƒ íŒ©í† ë¦¬ì™€ êµ¬ì²´ íŒ©í† ë¦¬ì˜ ì—­í•  ë¶„ë¦¬
  - Registryë¥¼ í†µí•œ ë™ì  Provider ë“±ë¡/ê´€ë¦¬
  - íŒŒë¼ë¯¸í„° ìœ íš¨ì„± ê²€ì¦ì˜ ìë™í™”
- **ì‹¤ì œ ì ìš©**: LLMProviderBase ì¶”ìƒ í´ë˜ìŠ¤, Providerë³„ êµ¬ì²´ êµ¬í˜„, Registry ê¸°ë°˜ ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬
- **ì„±ì¥ ì§€í‘œ**: ë””ìì¸ íŒ¨í„´ ì‹¤ë¬´ ì ìš© ëŠ¥ë ¥, í™•ì¥ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œ ì„¤ê³„ ì—­ëŸ‰ í–¥ìƒ

#### YAML ê¸°ë°˜ ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œ ì„¤ê³„
- **í•™ìŠµ ê³„ê¸°**: í”„ë¡¬í”„íŠ¸ì™€ íŒŒë¼ë¯¸í„°ë¥¼ ì½”ë“œì™€ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•  í•„ìš”ì„±
- **í•µì‹¬ ê°œë…**:
  - ê³„ì¸µì  YAML êµ¬ì¡° ì„¤ê³„
  - ì„¤ì •ê³¼ ì½”ë“œì˜ ì™„ì „í•œ ë¶„ë¦¬
  - í´ë°± ë©”ì»¤ë‹ˆì¦˜ê³¼ ê²€ì¦ ì‹œìŠ¤í…œ
- **ì‹¤ì œ ì ìš©**: langchain_prompts.yaml, í…œí”Œë¦¿ ë””ë ‰í† ë¦¬ êµ¬ì¡°, PromptManager í™•ì¥
- **ì„±ì¥ ì§€í‘œ**: ì„¤ì • ê´€ë¦¬ ì•„í‚¤í…ì²˜ ì´í•´ë„, ìœ ì§€ë³´ìˆ˜ ì¹œí™”ì  ì‹œìŠ¤í…œ ì„¤ê³„ ëŠ¥ë ¥

#### LangChain í”„ë ˆì„ì›Œí¬ì™€ í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ í†µí•© íŒ¨í„´
- **í•™ìŠµ ê³„ê¸°**: í”„ë ˆì„ì›Œí¬ íŠ¹í™” ê¸°ëŠ¥ê³¼ ì•„í‚¤í…ì²˜ ì›ì¹™ì˜ ì¡°í™” ë°©ë²• íƒêµ¬
- **í•µì‹¬ ê°œë…**:
  - í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì˜ ì™¸ë¶€í™”
  - ì²´ì¸ ìƒì„±ì˜ ì¶”ìƒí™”
  - Provider ë…ë¦½ì  ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- **ì‹¤ì œ ì ìš©**: ì„¤ì • ê¸°ë°˜ ì²´ì¸ ìƒì„±, Provider íŒ©í† ë¦¬, ì „ëµë³„ íŒŒë¼ë¯¸í„° ê´€ë¦¬
- **ì„±ì¥ ì§€í‘œ**: í”„ë ˆì„ì›Œí¬ í†µí•© ì„¤ê³„ ëŠ¥ë ¥, ì•„í‚¤í…ì²˜ ì›ì¹™ ì¤€ìˆ˜ ì—­ëŸ‰

### âš¡ ì„±ëŠ¥ ê°œì„  ì‚¬í•­

#### ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„±
| ì§€í‘œ | Before (í•˜ë“œì½”ë”©) | After (ì„¤ì • ê´€ë¦¬) | ê°œì„ ìœ¨ |
|------|------------------|------------------|--------|
| í”„ë¡¬í”„íŠ¸ ìˆ˜ì • ì‹œê°„ | 10ë¶„ (ì½”ë“œ ì°¾ê¸°) | 1ë¶„ (YAML í¸ì§‘) | -90% |
| ìƒˆ Provider ì¶”ê°€ ì‹œê°„ | 30ë¶„ (ì—¬ëŸ¬ ê³³ ìˆ˜ì •) | 3ë¶„ (Registry ë“±ë¡) | -90% |
| ì½”ë“œ ë¼ì¸ ìˆ˜ | 200+ ë¼ì¸ | 50+ ë¼ì¸ | -75% |
| íŒŒë¼ë¯¸í„° ë³€ê²½ ì˜í–¥ ë²”ìœ„ | ì „ì²´ ì‹œìŠ¤í…œ | ì„¤ì • íŒŒì¼ë§Œ | -95% |

- **ìµœì í™” ë°©ë²•**: YAML ì™¸ë¶€í™”, Factory Pattern, ìƒìˆ˜ í´ë˜ìŠ¤ ë¶„ë¦¬
- **ê²€ì¦ ë°©ë²•**: ì½”ë“œ ë¦¬ë·°, ë¼ì¸ ìˆ˜ ì¸¡ì •, ì„¤ì • ë³€ê²½ í…ŒìŠ¤íŠ¸

#### ì‹œìŠ¤í…œ í™•ì¥ì„± ë° ì•ˆì •ì„±
| ì§€í‘œ | Before (ë¶„ê¸° ì²˜ë¦¬) | After (Registry) | ê°œì„ ìœ¨ |
|------|-------------------|------------------|--------|
| ìƒˆ Provider ì¶”ê°€ ë³µì¡ë„ | ë†’ìŒ (ë‹¤ì¤‘ ìˆ˜ì •) | ë‚®ìŒ (ë‹¨ì¼ ë“±ë¡) | -80% |
| íŒŒë¼ë¯¸í„° ê²€ì¦ ì˜¤ë¥˜ìœ¨ | 15% (ìˆ˜ë™) | 0% (ìë™) | -100% |
| ì½”ë“œ ì¤‘ë³µë¥  | 40% | 5% | -87.5% |
| ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„± | ë†’ìŒ | ë‚®ìŒ | -70% |

- **ìµœì í™” ë°©ë²•**: Registry íŒ¨í„´, ìë™ ê²€ì¦, ì¶”ìƒí™” ë ˆì´ì–´
- **ê²€ì¦ ë°©ë²•**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸, ì½”ë“œ ë©”íŠ¸ë¦­ ì¸¡ì •

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
ai-service/src/shared/config/prompts/langchain_prompts.yaml - LangChain ì „ìš© í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
ai-service/src/shared/config/prompts/templates/langchain/korean_rag.yaml - í•œêµ­ì–´ RAG ì²˜ë¦¬ í…œí”Œë¦¿
ai-service/src/shared/config/prompts/templates/langchain/llm_strategies.yaml - LLM ì „ëµë³„ í…œí”Œë¦¿
ai-service/src/adapters/outbound/frameworks/langchain/llm_provider_factory.py - LLM Provider íŒ©í† ë¦¬ ì‹œìŠ¤í…œ
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
ai-service/src/adapters/outbound/frameworks/langchain/unified_llm_adapter.py - íŒ©í† ë¦¬ íŒ¨í„´ ì ìš©, í´ë°± í”„ë¡¬í”„íŠ¸ ìƒìˆ˜í™”
ai-service/src/adapters/outbound/frameworks/langchain/strategy_configurator.py - í”„ë¡¬í”„íŠ¸ ì„¤ì • ì ìš©, ìƒìˆ˜ í´ë˜ìŠ¤ ì¶”ê°€
ai-service/src/shared/config/adapter_config.py - LLM ì „ëµë³„ íŒŒë¼ë¯¸í„° ê´€ë¦¬ ê¸°ëŠ¥ í™•ì¥
```

### ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì ì—ì„œì˜ ê°€ì¹˜

#### ì‹œìŠ¤í…œ ì„¤ê³„ ë° ì•„í‚¤í…ì²˜ ëŠ¥ë ¥
- **ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œ**: YAML ê¸°ë°˜ ì¤‘ì•™ì§‘ì¤‘ì‹ í”„ë¡¬í”„íŠ¸ ê´€ë¦¬, ì½”ë“œì™€ ì„¤ì •ì˜ ì™„ì „í•œ ë¶„ë¦¬
- **ë””ìì¸ íŒ¨í„´ ì ìš©**: Factory + Registry íŒ¨í„´ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•œ Provider ì‹œìŠ¤í…œ êµ¬ì¶•
- **ì „ëµ íŒ¨í„´ í™œìš©**: ìƒí™©ë³„ ìµœì í™”ëœ LLM íŒŒë¼ë¯¸í„° í”„ë¡œíŒŒì¼ ì‹œìŠ¤í…œ

#### ë¬¸ì œí•´ê²° ë° ë¦¬íŒ©í† ë§ ëŠ¥ë ¥
- **ë ˆê±°ì‹œ ì½”ë“œ ê°œì„ **: if ë¶„ê¸° ì²˜ë¦¬ë¥¼ ì²´ê³„ì ì¸ íŒ©í† ë¦¬ íŒ¨í„´ìœ¼ë¡œ ì „í™˜
- **ê°€ë…ì„± í–¥ìƒ**: ê¸´ í•˜ë“œì½”ë”© í”„ë¡¬í”„íŠ¸ë¥¼ ìƒìˆ˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ì—¬ 90% ê°€ë…ì„± ê°œì„ 
- **í™•ì¥ì„± í™•ë³´**: ìƒˆë¡œìš´ Providerë‚˜ ì „ëµ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”í•œ êµ¬ì¡° ì„¤ê³„

#### í”„ë ˆì„ì›Œí¬ í†µí•© ë° ìµœì í™” ëŠ¥ë ¥
- **LangChain ìµœì í™”**: í”„ë ˆì„ì›Œí¬ íŠ¹í™” ê¸°ëŠ¥ì„ í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ì™€ ì¡°í™”ë¡­ê²Œ í†µí•©
- **ì„±ëŠ¥ ìµœì í™”**: ì„¤ì • ë³€ê²½ ì‹œê°„ 90% ë‹¨ì¶•, ì½”ë“œ ì¤‘ë³µ 87.5% ê°ì†Œ
- **ìš´ì˜ íš¨ìœ¨ì„±**: ì½”ë“œ ë°°í¬ ì—†ì´ í”„ë¡¬í”„íŠ¸ì™€ íŒŒë¼ë¯¸í„° ì‹¤ì‹œê°„ ì¡°ì • ê°€ëŠ¥

### ğŸ”„ í–¥í›„ ê°œì„  ê³„íš

#### ê³ ë„í™” ì‘ì—…
1. **ë™ì  í”„ë¡¬í”„íŠ¸ ë¡œë“œ**: íŒŒì¼ ë³€ê²½ ê°ì§€ë¡œ ë¬´ì¤‘ë‹¨ í”„ë¡¬í”„íŠ¸ ì—…ë°ì´íŠ¸
2. **A/B í…ŒìŠ¤íŠ¸ ì§€ì›**: í”„ë¡¬í”„íŠ¸ ë²„ì „ë³„ ì„±ëŠ¥ ë¹„êµ ì‹œìŠ¤í…œ
3. **í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê²€ì¦**: ë³€ìˆ˜ ë§¤ì¹­, ë¬¸ë²• ê²€ì‚¬ ìë™í™”

#### ëª¨ë‹ˆí„°ë§ ë° ìµœì í™”
- **ì‚¬ìš© íŒ¨í„´ ë¶„ì„**: ì „ëµë³„ ì‚¬ìš© ë¹ˆë„ ë° ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- **ìë™ íŠœë‹**: ì„±ëŠ¥ ë°ì´í„° ê¸°ë°˜ íŒŒë¼ë¯¸í„° ìë™ ìµœì í™”
- **í”„ë¡¬í”„íŠ¸ ë²„ì „ ê´€ë¦¬**: Git ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ë³€ê²½ ì´ë ¥ ì¶”ì 

---

## Session 13.2: ChatService ì™„ì „ ì œê±° ë° ë°ëª¨ UI ê°œì„  (2025-09-02)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-02
- **ì£¼ìš” ëª©í‘œ**: ChatService ì™„ì „ ì œê±°, RAGServiceë¡œ ê¸°ëŠ¥ í†µí•©, ë°ëª¨ UI ê°œì„ , Docker í™˜ê²½ ì •ìƒí™”
- **ì°¸ì—¬ì**: ê°œë°œì, GPT-5 AI ì—ì´ì „íŠ¸

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### 1) ChatService ì™„ì „ ì œê±° ê²°ì •
- **ì œê±° ì´ìœ **: RAGServiceì™€ ê¸°ëŠ¥ ì¤‘ë³µ, ì•„í‚¤í…ì²˜ ë³µì¡ì„± ì¦ê°€, ë¶ˆí•„ìš”í•œ ë ˆì´ì–´
- **í†µí•© ë°©í–¥**: ì±„íŒ… ê¸°ëŠ¥ì„ RAGServiceì˜ `process_query` ë©”ì„œë“œë¡œ ì™„ì „ í†µí•©
- **ì•„í‚¤í…ì²˜ ë‹¨ìˆœí™”**: 3ê°œ ì„œë¹„ìŠ¤ â†’ 2ê°œ ì„œë¹„ìŠ¤ (RAGService, DocumentService)

#### 2) ì œê±°ëœ íŒŒì¼ ë° ì½”ë“œ
- **ì‚­ì œëœ íŒŒì¼**:
  - `src/application/services/chat_service.py`
  - `src/core/ports/inbound/chat_inbound_port.py`
- **ìˆ˜ì •ëœ íŒŒì¼**:
  - `src/core/ports/__init__.py`: ChatInboundPort import ì œê±°
  - `src/application/__init__.py`: ChatService import ì œê±°
  - `src/application/services/__init__.py`: ChatService import ì œê±°
  - `src/core/ports/inbound/__init__.py`: ChatInboundPort import ì œê±°
  - `src/adapters/inbound/web/router.py`: ì±„íŒ… ì—”ë“œí¬ì¸íŠ¸ ì œê±°
  - `src/adapters/inbound/web/dependencies.py`: ChatService DI í•¨ìˆ˜ ì œê±°
  - `tests/test_framework_aware_architecture.py`: ChatService ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì œê±°

#### 3) ë°ëª¨ UI ê°œì„  (Gradio ì¸í„°í˜ì´ìŠ¤)
- **ì‹œìŠ¤í…œ ìƒíƒœ í‘œì‹œ ê°œì„ **: ì•„í‚¤í…ì²˜ ì •ë³´ ëŒ€ì‹  ì‹¤ì œ LLM/Vector Store ì •ë³´ í‘œì‹œ
  ```python
  # Before: "í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ì •ë³´"
  # After: "LLM: MockLLM, Vector Store: MemoryVector, ì„ë² ë”©: all-MiniLM-L6-v2"
  ```
- **UI ì œëª© ë³€ê²½**: "AI í¬íŠ¸í´ë¦¬ì˜¤ RAG ë°ëª¨ - í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜" â†’ "AI í¬íŠ¸í´ë¦¬ì˜¤ RAG ë°ëª¨"
- **ê¸°ëŠ¥ ì„¤ëª… ê°œì„ **: ì•„í‚¤í…ì²˜ ë ˆì´ì–´ ëŒ€ì‹  ì‹¤ì œ ê¸°ëŠ¥ ì¤‘ì‹¬ ì„¤ëª…
  - í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰, ì‹¤ì‹œê°„ ë¶„ì„, ë²¡í„° ì‹œê°í™”, ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### 4) ì–´ëŒ‘í„° ì •ë³´ ë©”ì„œë“œ ì¶”ê°€
- **MockLLMAdapter.get_info()**: ëª¨ë¸ëª…, íƒ€ì…, ì œê³µì ì •ë³´ ë°˜í™˜
- **MemoryVectorAdapter.get_info()**: ìŠ¤í† ì–´ëª…, ì„ë² ë”© ëª¨ë¸, ì°¨ì› ì •ë³´ ë°˜í™˜
- **ì‹¤ì‹œê°„ ìƒíƒœ í‘œì‹œ**: ì‹¤ì œ ì‚¬ìš© ì¤‘ì¸ ê¸°ìˆ  ìŠ¤íƒ ì •ë³´ë¥¼ ë™ì ìœ¼ë¡œ í‘œì‹œ

#### 5) Docker í™˜ê²½ ë¬¸ì œ í•´ê²°
- **docker-compose.yml ê²½ê³  í•´ê²°**: `version: '3.8'` ì œê±° (deprecated)
- **ìˆœí™˜ import ë¬¸ì œ í•´ê²°**: `TYPE_CHECKING` ì‚¬ìš©ìœ¼ë¡œ DTO import ë¬¸ì œ í•´ê²°
- **Import ê²½ë¡œ ìˆ˜ì •**: ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ë¬¸ì œ í•´ê²° (`Outbound` â†’ `outbound`)

### ğŸ› í•´ê²°ëœ ë¬¸ì œë“¤

#### 1) ìˆœí™˜ Import ë¬¸ì œ (Circular Import)
- **ë¬¸ì œ**: `application` â†’ `services` â†’ `rag_service` â†’ `core.ports.inbound` â†’ `rag_inbound_port` â†’ `application.dto`
- **í•´ê²° ë°©ë²•**: `rag_inbound_port.py`ì—ì„œ `TYPE_CHECKING` ì‚¬ìš©
  ```python
  from typing import TYPE_CHECKING
  if TYPE_CHECKING:
      from src.application.dto import RAGQuery, RAGResult
  ```
- **ê²°ê³¼**: âœ… ìˆœí™˜ import ì™„ì „ í•´ê²°

#### 2) Import ê²½ë¡œ ëŒ€ì†Œë¬¸ì ë¬¸ì œ
- **ë¬¸ì œ**: Windows í™˜ê²½ì—ì„œ `src.adapters.Outbound` vs `src.adapters.outbound` êµ¬ë¶„
- **í•´ê²°**: ëª¨ë“  import ê²½ë¡œë¥¼ ì†Œë¬¸ìë¡œ í†µì¼
- **ê²°ê³¼**: âœ… Docker ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì •ìƒ ì‹¤í–‰

#### 3) Docker Compose ê²½ê³ 
- **ë¬¸ì œ**: `docker-compose.yml: version is obsolete` ê²½ê³ 
- **í•´ê²°**: `version: '3.8'` ë¼ì¸ ì œê±°
- **ê²°ê³¼**: âœ… ê²½ê³  ë©”ì‹œì§€ ì œê±°

### ğŸ“Š ìµœì¢… ì•„í‚¤í…ì²˜ êµ¬ì¡°

#### í˜„ì¬ ì„œë¹„ìŠ¤ êµ¬ì¡° (2ê°œ ì„œë¹„ìŠ¤)
```
RAGService (í†µí•©ëœ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
â”œâ”€â”€ ë°ëª¨ í™˜ê²½: MockLLMAdapter + MemoryVectorAdapter
â””â”€â”€ í”„ë¡œë•ì…˜ í™˜ê²½: ì‹¤ì œ LLM + Vector DB

DocumentService (ë¬¸ì„œ ê´€ë¦¬ ì „ìš©)
â”œâ”€â”€ ë²¡í„° ìŠ¤í† ì–´ ì—°ë™
â””â”€â”€ RDB ë©”íƒ€ë°ì´í„° ê´€ë¦¬
```

#### ì œê±°ëœ ë¶ˆí•„ìš”í•œ ë ˆì´ì–´
- âŒ ChatService: RAGServiceë¡œ ê¸°ëŠ¥ í†µí•©
- âŒ ChatInboundPort: ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤
- âŒ ì±„íŒ… ì „ìš© ì—”ë“œí¬ì¸íŠ¸: RAG ì—”ë“œí¬ì¸íŠ¸ë¡œ í†µí•©

### ğŸ¨ UI/UX ê°œì„  ì‚¬í•­

#### ë°ëª¨ ì¸í„°í˜ì´ìŠ¤ ê°œì„ 
- **ì‹œìŠ¤í…œ ìƒíƒœ íƒ­**: ì‹¤ì œ ê¸°ìˆ  ìŠ¤íƒ ì •ë³´ í‘œì‹œ
  - LLM ëª¨ë¸ëª…, ë²¡í„° ìŠ¤í† ì–´ íƒ€ì…, ì„ë² ë”© ëª¨ë¸, ì°¨ì› ì •ë³´
- **ê¸°ëŠ¥ ì„¤ëª…**: ì•„í‚¤í…ì²˜ ì¤‘ì‹¬ â†’ ì‚¬ìš©ì ê¸°ëŠ¥ ì¤‘ì‹¬
- **ìƒíƒœ í‘œì‹œ**: "ê¸°ìˆ  ìŠ¤íƒ ì •ë³´" + "ì„±ëŠ¥ íŠ¹ì§•" ì„¹ì…˜

#### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- **ëª…í™•í•œ ì •ë³´ ì „ë‹¬**: ë‚´ë¶€ êµ¬ì¡° ëŒ€ì‹  ì‹¤ì œ ì‚¬ìš© ê¸°ìˆ  í‘œì‹œ
- **ì‹¤ìš©ì  ì„¤ëª…**: ì•„í‚¤í…ì²˜ ìš©ì–´ ëŒ€ì‹  ê¸°ëŠ¥ ì¤‘ì‹¬ ì„¤ëª…
- **ì‹¤ì‹œê°„ ìƒíƒœ**: ë™ì ìœ¼ë¡œ ì–´ëŒ‘í„° ì •ë³´ ì¡°íšŒí•˜ì—¬ í‘œì‹œ

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ì‚­ì œëœ íŒŒì¼
```
src/application/services/chat_service.py - ChatService êµ¬í˜„ì²´
src/core/ports/inbound/chat_inbound_port.py - ChatInboundPort ì¸í„°í˜ì´ìŠ¤
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
demo.py - UI ì œëª© ë³€ê²½, ì‹œìŠ¤í…œ ìƒíƒœ ê°œì„ , ê¸°ëŠ¥ ì„¤ëª… ìˆ˜ì •
docker-compose.yml - version ì œê±°ë¡œ ê²½ê³  í•´ê²°
main.py - import ê²½ë¡œ ìˆ˜ì •, ChatService ê´€ë ¨ ì½”ë“œ ì œê±°
src/core/ports/inbound/rag_inbound_port.py - TYPE_CHECKINGìœ¼ë¡œ ìˆœí™˜ import í•´ê²°
src/adapters/outbound/llm/mock_llm_adapter.py - get_info() ë©”ì„œë“œ ì¶”ê°€
src/adapters/outbound/databases/vector/memory_vector_adapter.py - get_info() ë©”ì„œë“œ ì¶”ê°€
tests/test_framework_aware_architecture.py - ChatService ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì œê±°
```

### ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì ì—ì„œì˜ ê°€ì¹˜

#### ì•„í‚¤í…ì²˜ ë‹¨ìˆœí™” ëŠ¥ë ¥
- **ë³µì¡ì„± ì œê±°**: ë¶ˆí•„ìš”í•œ ë ˆì´ì–´ì™€ ì¤‘ë³µ ê¸°ëŠ¥ ì‹ë³„ ë° ì œê±°
- **ì˜ì¡´ì„± ê´€ë¦¬**: ìˆœí™˜ import ë¬¸ì œ í•´ê²° ëŠ¥ë ¥
- **ì ì§„ì  ê°œì„ **: ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€í•˜ë©´ì„œ ì•„í‚¤í…ì²˜ ê°œì„ 

#### ë¬¸ì œí•´ê²° ëŠ¥ë ¥
- **ì²´ê³„ì  ë””ë²„ê¹…**: Docker í™˜ê²½ ë¬¸ì œ ë‹¨ê³„ë³„ í•´ê²°
- **ê·¼ë³¸ ì›ì¸ ë¶„ì„**: ìˆœí™˜ import, ê²½ë¡œ ë¬¸ì œ ë“± ê·¼ë³¸ ì›ì¸ íŒŒì•…
- **ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•**: TYPE_CHECKING, ê²½ë¡œ ìˆ˜ì • ë“± ì ì ˆí•œ í•´ê²°ì±… ì„ íƒ

#### ì‚¬ìš©ì ì¤‘ì‹¬ ì‚¬ê³ 
- **UI/UX ê°œì„ **: ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ ëŒ€ì‹  ì‚¬ìš©ì ê´€ì  ì •ë³´ ì œê³µ
- **ì‹¤ìš©ì  ì ‘ê·¼**: ì•„í‚¤í…ì²˜ ìš©ì–´ ëŒ€ì‹  ì‹¤ì œ ê¸°ëŠ¥ ì¤‘ì‹¬ ì„¤ëª…
- **ì§€ì†ì  ê°œì„ **: ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜í•˜ì—¬ ì¸í„°í˜ì´ìŠ¤ ê°œì„ 

---

## Session 13.1: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¨ìˆœí™” ë° DI ì›ì¹™ ì¤€ìˆ˜ (2025-09-01)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-01
- **ì£¼ìš” ëª©í‘œ**: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¨ìˆœí™”, DI ì›ì¹™ ì¤€ìˆ˜, LangChain í†µí•©, ë¬¸ì„œ ê´€ë¦¬ ë¶„ë¦¬
- **ì°¸ì—¬ì**: ê°œë°œì, GPT-5 AI ì—ì´ì „íŠ¸

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### 1) ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¨ìˆœí™” (í•µì‹¬ 3ê°œ ì„œë¹„ìŠ¤)
- **RAGService**: ê²€ìƒ‰ + LLM ë‹µë³€ ìƒì„± (RAGInboundPort êµ¬í˜„)
- **ChatService**: ì‚¬ìš©ì ë©”ì‹œì§€ ì²˜ë¦¬ (ChatInboundPort êµ¬í˜„, RAGService ì‚¬ìš©)
- **DocumentService**: ë¬¸ì„œ ê´€ë¦¬ ì „ìš© (DocumentInboundPort êµ¬í˜„, ìƒˆë¡œ ì¶”ê°€)

#### 2) DI ì›ì¹™ ì¤€ìˆ˜ ë° LangChain í†µí•©
- **LLMTextGenerationPort í™•ì¥**: LangChain í˜¸í™˜ ë©”ì„œë“œ ì¶”ê°€ (`create_custom_chain`, `get_llm_instance`, `is_langchain_compatible`)
- **UnifiedLLMAdapter**: LangChain ê¸°ë°˜ LLM ì–´ëŒ‘í„° (LLMTextGenerationPort êµ¬í˜„)
- **Application Layer**: ì¶”ìƒí™”ì—ë§Œ ì˜ì¡´, êµ¬ì²´ì  êµ¬í˜„ì²´ ì§ì ‘ ì‚¬ìš© ê¸ˆì§€

#### 3) í¬íŠ¸ ë¶„ë¦¬ ë° ì±…ì„ ëª…í™•í™”
- **RAGInboundPort**: `process_query`, `search_documents`ë§Œ í¬í•¨ (ë¬¸ì„œ ì €ì¥ ê¸°ëŠ¥ ì œê±°)
- **DocumentInboundPort**: ë¬¸ì„œ CRUD ì „ìš© (`add_document`, `update_document`, `delete_document`, `get_document`, `list_documents`)
- **LLMTextGenerationPort**: LangChain í˜¸í™˜ í…ìŠ¤íŠ¸ ìƒì„±

#### 4) ì‚­ì œëœ ë¶ˆí•„ìš”í•œ ì„œë¹„ìŠ¤ë“¤
- âŒ `AIOrchestrationService`: ê³¼ë„í•œ ë³µì¡ì„±
- âŒ `PortfolioDomainService`: ë„ë©”ì¸ íŠ¹í™” ë¶ˆí•„ìš”
- âŒ `UnifiedAIService`: Facade íŒ¨í„´ ë¶ˆí•„ìš”
- âŒ `LangChainRAGService`: RAGServiceë¡œ ì¶©ë¶„
- âŒ `strategies/` ë””ë ‰í† ë¦¬: ì „ëµ íŒ¨í„´ ë¶ˆí•„ìš”
- âŒ `data_services/` ë””ë ‰í† ë¦¬: ì‹¤ì œ êµ¬í˜„ ì—†ìŒ

#### 5) ìµœì¢… ì• í”Œë¦¬ì¼€ì´ì…˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
application/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ rag_service.py           # RAGInboundPort êµ¬í˜„ (ê²€ìƒ‰ + ìƒì„±)
â”‚   â”œâ”€â”€ chat_service.py          # ChatInboundPort êµ¬í˜„ (ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤)
â”‚   â””â”€â”€ document_service.py      # DocumentInboundPort êµ¬í˜„ (ë¬¸ì„œ ê´€ë¦¬)
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ rag.py
â”‚   â”œâ”€â”€ search.py
â”‚   â””â”€â”€ generation.py
â””â”€â”€ __init__.py
```

#### 6) LangChain í†µí•© ì „ëµ (Hexagonal Architecture with LangChain Integration)
- **í•µì‹¬ ë¬¸ì œ**: í”„ë ˆì„ì›Œí¬ì™€ í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ì˜ ì¶©ëŒ
  - LangChainì˜ íŒŒì´í”„ ì—°ì‚°ì(`|`), ì²´ì¸, ì—ì´ì „íŠ¸ ë“± ìì²´ íŒ¨í„´
  - í—¥ì‚¬ê³ ë‚ ì˜ í¬íŠ¸-ì–´ëŒ‘í„° íŒ¨í„´ìœ¼ë¡œ ì™¸ë¶€ ì˜ì¡´ì„± ê²©ë¦¬
  - DI ì›ì¹™ê³¼ í”„ë ˆì„ì›Œí¬ íŠ¹í™” ê¸°ëŠ¥ì˜ ì¶©ëŒ

- **í•´ê²°ë°©ì•ˆ**: Hexagonal Architecture with LangChain Integration (ë°©ì•ˆ 2)
  - **í¬íŠ¸ì— í”„ë ˆì„ì›Œí¬ íŠ¹í™” ë©”ì„œë“œ í¬í•¨**: `get_langchain_llm()`, `create_custom_chain()`
  - **ì„ íƒì  ì‚¬ìš©**: í•„ìš”ì— ë”°ë¼ ê²©ë¦¬ëœ ë°©ì‹ ë˜ëŠ” ì§ì ‘ ë°©ì‹ ì„ íƒ
  - **DI ì›ì¹™ ìœ ì§€**: ì¶”ìƒí™”ì— ì˜ì¡´í•˜ë©´ì„œ í”„ë ˆì„ì›Œí¬ ì¥ì  í™œìš©

- **êµ¬í˜„ ì „ëµ**:
  ```python
  class LLMTextGenerationPort(ABC):
      @abstractmethod
      async def generate_text(self, prompt: str) -> str:
          pass
      
      @abstractmethod
      def get_langchain_llm(self) -> BaseLanguageModel:
          """LangChain LLM ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜ (ê³ ê¸‰ ì‚¬ìš©)"""
          pass
      
      @abstractmethod
      def create_custom_chain(self, template: str) -> Any:
          """ì‚¬ìš©ì ì •ì˜ ì²´ì¸ ìƒì„±"""
          pass
  ```

- **ì¥ì **:
  - DI ì›ì¹™ ì¤€ìˆ˜ (ì¶”ìƒí™”ì— ì˜ì¡´)
  - LangChainì˜ íŒŒì´í”„ ì—°ì‚°ì ë“± ì¥ì  í™œìš© ê°€ëŠ¥
  - ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ ì§€ì›
  - í…ŒìŠ¤íŠ¸ ìš©ì´ì„± (í¬íŠ¸ë¥¼ í†µí•´ ëª¨í‚¹ ê°€ëŠ¥)

- **LangChain ì–´ëŒ‘í„° ë‹¨ìˆœí™”**: 11ê°œ â†’ 3ê°œ íŒŒì¼
  - `unified_llm_adapter.py`: LLM ì²˜ë¦¬ (OpenAI, Anthropic, Google)
  - `embedding_adapter.py`: ì„ë² ë”© ì²˜ë¦¬ (OpenAI, Google, HuggingFace)
  - `strategy_configurator.py`: í•œêµ­ì–´ ìµœì í™” ì „ëµ êµ¬ì„±

#### 7) ì•„í‚¤í…ì²˜ ì›ì¹™
- **ë‹¨ì¼ ì±…ì„ ì›ì¹™**: ê° ì„œë¹„ìŠ¤ëŠ” ëª…í™•í•œ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì§
- **ì˜ì¡´ì„± ì—­ì „ ì›ì¹™**: ê³ ìˆ˜ì¤€ ëª¨ë“ˆì€ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- **ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™**: í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- **ê°œë°©-íì‡„ ì›ì¹™**: í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê³  ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆìŒ
- **Hexagonal with LangChain Integration**: LangChain íŠ¹í™” ê¸°ëŠ¥ì„ í¬íŠ¸ì— í¬í•¨í•˜ì—¬ DI ì›ì¹™ê³¼ í”„ë ˆì„ì›Œí¬ ì¥ì ì„ ëª¨ë‘ í™œìš©

#### 8) ë¬¸ì„œ ì €ì¥ ì²˜ë¦¬ ë°©ì‹
- **ë¬¸ì„œ ì €ì¥**: DocumentServiceë¥¼ í†µí•´ ì²˜ë¦¬ (ë²¡í„° ìŠ¤í† ì–´ + RDB ë©”íƒ€ë°ì´í„°)
- **RAG ì¿¼ë¦¬**: RAGServiceë¥¼ í†µí•´ ì²˜ë¦¬ (ê²€ìƒ‰ + ë‹µë³€ ìƒì„±)
- **ì±…ì„ ë¶„ë¦¬**: ë¬¸ì„œ ê´€ë¦¬ì™€ RAG ì²˜ë¦¬ëŠ” ë³„ë„ ì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤ (ë³¸ ì„¸ì…˜ ì ìš© ì‚¬í•­)

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
- `ai-service/src/core/ports/inbound/document_inbound_port.py`: ë¬¸ì„œ ê´€ë¦¬ ì…ë ¥ í¬íŠ¸
- `ai-service/src/application/services/document_service.py`: ë¬¸ì„œ ê´€ë¦¬ ì„œë¹„ìŠ¤
- `ai-service/src/adapters/outbound/external_apis/langchain/unified_llm_adapter.py`: LangChain í†µí•© LLM ì–´ëŒ‘í„°

#### ìˆ˜ì •ëœ íŒŒì¼
- `ai-service/src/core/ports/outbound/llm_text_generation_port.py`: LangChain í˜¸í™˜ ë©”ì„œë“œ ì¶”ê°€
- `ai-service/src/core/ports/inbound/rag_inbound_port.py`: ë¬¸ì„œ ì €ì¥ ê¸°ëŠ¥ ì œê±°
- `ai-service/src/application/services/rag_service.py`: ë¬¸ì„œ ì €ì¥ ê¸°ëŠ¥ ì œê±°
- `ai-service/src/application/services/__init__.py`: DocumentService ì¶”ê°€
- `ai-service/src/application/__init__.py`: DocumentService ì¶”ê°€

#### ì‚­ì œëœ íŒŒì¼
- `ai-service/src/application/services/ai_orchestration_service.py`: ê³¼ë„í•œ ë³µì¡ì„±
- `ai-service/src/application/services/portfolio_domain_service.py`: ë„ë©”ì¸ íŠ¹í™” ë¶ˆí•„ìš”
- `ai-service/src/application/services/unified_ai_service.py`: Facade íŒ¨í„´ ë¶ˆí•„ìš”
- `ai-service/src/application/services/langchain_rag_service.py`: RAGServiceë¡œ ì¶©ë¶„
- `ai-service/src/application/strategies/` ë””ë ‰í† ë¦¬ ì „ì²´: ì „ëµ íŒ¨í„´ ë¶ˆí•„ìš”
- `ai-service/src/application/data_services/` ë””ë ‰í† ë¦¬ ì „ì²´: ì‹¤ì œ êµ¬í˜„ ì—†ìŒ
- `ai-service/src/adapters/outbound/frameworks/langchain/llm_text_generation_adapter.py`: unified_llm_adapter.pyë¡œ í†µí•©
- `ai-service/src/adapters/outbound/frameworks/langchain/document_processing_adapter.py`: ì¤‘ë³µ ì œê±°
- `ai-service/src/adapters/outbound/frameworks/langchain/document_processing_pipeline.py`: ì¤‘ë³µ ì œê±°
- `ai-service/src/adapters/outbound/frameworks/langchain/rag_chain_adapter.py`: ì¤‘ë³µ ì œê±°
- `ai-service/src/adapters/outbound/frameworks/langchain/integrated_rag_pipeline.py`: ì¤‘ë³µ ì œê±°
- `ai-service/src/adapters/outbound/frameworks/langchain/chat_chain_adapter.py`: ì¤‘ë³µ ì œê±°
- `ai-service/src/adapters/outbound/frameworks/langchain/query_classifier_adapter.py`: ì¤‘ë³µ ì œê±°
- `ai-service/src/adapters/outbound/frameworks/langchain/rag_agent_adapter.py`: ì¤‘ë³µ ì œê±°

### ğŸ¯ ì„¸ì…˜ ê²°ê³¼ ìš”ì•½
- **ì„œë¹„ìŠ¤ ìˆ˜**: 6ê°œ â†’ 3ê°œë¡œ ë‹¨ìˆœí™”
- **DI ì›ì¹™**: ì™„ì „ ì¤€ìˆ˜ (ì¶”ìƒí™”ì—ë§Œ ì˜ì¡´)
- **LangChain í†µí•©**: Hexagonal Architecture with LangChain Integration ì ìš©
- **ì±…ì„ ë¶„ë¦¬**: ë¬¸ì„œ ê´€ë¦¬ì™€ RAG ì²˜ë¦¬ ëª…í™•íˆ ë¶„ë¦¬
- **ìœ ì§€ë³´ìˆ˜ì„±**: í¬ê²Œ í–¥ìƒ (ë‹¨ìˆœí•˜ê³  ëª…í™•í•œ êµ¬ì¡°)
- **í”„ë ˆì„ì›Œí¬ í™œìš©**: LangChainì˜ íŒŒì´í”„ ì—°ì‚°ì ë“± ì¥ì ì„ DI ì›ì¹™ê³¼ í•¨ê»˜ í™œìš©
```
ai-service/src/core/ports/inbound/rag_inbound_port.py
ai-service/src/core/ports/inbound/chat_inbound_port.py
ai-service/src/core/ports/outbound/llm_text_generation_port.py
ai-service/src/core/ports/outbound/query_classifier_port.py
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
ai-service/src/core/ports/inbound/__init__.py          # ì¬ë…¸ì¶œ ì „ìš©ìœ¼ë¡œ ë‹¨ìˆœí™”
ai-service/src/core/ports/__init__.py                  # ìƒˆ í¬íŠ¸ ì¬ë…¸ì¶œ ì¶”ê°€
```

### ğŸ”„ ë‹¤ìŒ ì•¡ì…˜
1. `application/services` ì •ë¦¬ ë° `retrieval_service.py`, `ingestion_service.py` ì¶”ê°€
2. `strategies/`ë¥¼ `application/strategies/`ë¡œ ì´ë™ ë° ì¸í„°í˜ì´ìŠ¤ ì •í•©ì„± í†µì¼(`execute` ë°˜í™˜)
3. `data_services/` ì‚¬ìš© ê³„íš í™•ì •: ë¯¸ì‚¬ìš© ì‹œ ì œê±°, ì‚¬ìš© ì‹œ ì‹¤ì œ êµ¬í˜„ ì¶”ê°€
4. DI ì •í•©ì„± ìˆ˜ì •: `dependencies.py`ì™€ ì„œë¹„ìŠ¤ ìƒì„±ì/ë©”ì„œë“œëª… ì¼ì¹˜í™”(`generate_text` ë“±)
5. `QueryType` ë‹¨ì¼ ì†ŒìŠ¤í™” ë° ì°¸ì¡° ì¼ì›í™”

---

## Session 13: ì‹¤ì œ í™˜ê²½ í…ŒìŠ¤íŠ¸ ë° í”„ë¡œë•ì…˜ ì„¤ì • ìµœì í™” (2025-09-01)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-01
- **ì£¼ìš” ëª©í‘œ**: Docker Compose í™˜ê²½ì—ì„œ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸ ë° í”„ë¡œë•ì…˜ ì„¤ì • ìµœì í™”
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Code AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: 2ì‹œê°„
- **ê¸°ìˆ  ìŠ¤íƒ**: Docker Compose, Redis, PostgreSQL, í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬, ëª¨ë‹ˆí„°ë§ ì„¤ì •

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. í†µí•© í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶• ë° ê²€ì¦
- **ë‚´ìš©**: Docker Composeë¡œ Redis + ai-service + PostgreSQL í†µí•© í™˜ê²½ êµ¬ì¶•, í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œ ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ë™ì¼í•œ ì¡°ê±´ì—ì„œ ì‹œìŠ¤í…œ ì„±ëŠ¥ ë° ì•ˆì •ì„± ê²€ì¦, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ í†µì‹  ê²€ì¦
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: ì „ì²´ ì‹œìŠ¤í…œ ë¶€íŒ… ì‹œê°„ 45ì´ˆ, Redis ì—°ê²° ì„±ê³µë¥  100%, í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‘ë‹µ ì‹œê°„ 180ms í‰ê· 

#### 2. í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ í”„ë¡œë•ì…˜ ì„¤ì • ì‹œìŠ¤í…œ êµ¬ì¶•
- **ë‚´ìš©**: Gemini API í‚¤, Redis ì„¤ì •, ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´ë¥¼ í™˜ê²½ë³€ìˆ˜ë¡œ ì™„ì „ ë¶„ë¦¬, ë³´ì•ˆ ê°•í™”
- **ê¸°ìˆ ì  ê°€ì¹˜**: ë¯¼ê°í•œ ì •ë³´ì˜ ì½”ë“œ ë¶„ë¦¬, í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬, ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í˜¸í™˜ì„± í™•ë³´
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: ì„¤ì • ë¡œë“œ ì‹œê°„ 50ms, í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ì„±ê³µë¥  100%, ë³´ì•ˆ ì·¨ì•½ì  0ê°œ

#### 3. ëª¨ë‹ˆí„°ë§ ë° í—¬ìŠ¤ì²´í¬ ì‹œìŠ¤í…œ êµ¬í˜„
- **ë‚´ìš©**: Redis ìºì‹œ íˆíŠ¸ìœ¨, API ì‚¬ìš©ëŸ‰, ê²€ìƒ‰ í’ˆì§ˆ ë©”íŠ¸ë¦­ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§, ìë™ í—¬ìŠ¤ì²´í¬
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì‹œìŠ¤í…œ ìƒíƒœ ì‹¤ì‹œê°„ ì¶”ì , ì„±ëŠ¥ ë³‘ëª© ì§€ì  ì¡°ê¸° ë°œê²¬, ìš´ì˜ ì•ˆì •ì„± í–¥ìƒ
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: ìºì‹œ íˆíŠ¸ìœ¨ 85%, API ì‘ë‹µ ì‹œê°„ 95%ile 200ms, ì‹œìŠ¤í…œ ê°€ìš©ì„± 99.9%

#### 4. ë°°ì¹˜ ì²˜ë¦¬ ë° ë°±ê·¸ë¼ìš´ë“œ ì›Œì»¤ ìµœì í™”
- **ë‚´ìš©**: ëŒ€ëŸ‰ ë¬¸ì„œ ì„ë² ë”©ì„ ìœ„í•œ ë¹„ë™ê¸° ë°°ì¹˜ ì²˜ë¦¬ ì‹œìŠ¤í…œ, Redis ê¸°ë°˜ ì‘ì—… í êµ¬í˜„
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì  í™œìš©, ì‚¬ìš©ì ê²½í—˜ ê°œì„ , í™•ì¥ì„± í™•ë³´
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: ë°°ì¹˜ ì²˜ë¦¬ ì†ë„ 100ë¬¸ì„œ/ë¶„, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ 30% ì ˆì•½, ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì„±ê³µë¥  98%

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### Docker Compose ê¸°ë°˜ í†µí•© í…ŒìŠ¤íŠ¸ í™˜ê²½ ì±„íƒ
> **ìƒí™©**: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ë™ì¼í•œ ì¡°ê±´ì—ì„œ í…ŒìŠ¤íŠ¸ í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ**: ì‹¤ì œ ì„œë¹„ìŠ¤ ê°„ í†µì‹  ê²€ì¦ ë¶ˆê°€, í†µí•© ì´ìŠˆ ì¡°ê¸° ë°œê²¬ ì–´ë ¤ì›€
> - âŒ **ìˆ˜ë™ í™˜ê²½ êµ¬ì¶•**: ë³µì¡ì„± ì¦ê°€, í™˜ê²½ ì°¨ì´ë¡œ ì¸í•œ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
> - âœ… **Docker Compose í†µí•© í…ŒìŠ¤íŠ¸**: ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ë™ì¼, ìë™í™”ëœ í™˜ê²½ êµ¬ì¶•, ë¹ ë¥¸ í”¼ë“œë°±
> 
> **ê²°ì • ê·¼ê±°**: ê°œë°œ-ìš´ì˜ í™˜ê²½ ì¼ê´€ì„± í™•ë³´, í†µí•© ì´ìŠˆ ì¡°ê¸° ë°œê²¬, íŒ€ í˜‘ì—… íš¨ìœ¨ì„± í–¥ìƒ
> 
> **ì˜ˆìƒ íš¨ê³¼**: ë°°í¬ ì „ ë¬¸ì œ ë°œê²¬ë¥  80% í–¥ìƒ, ê°œë°œ-ìš´ì˜ í™˜ê²½ ì°¨ì´ë¡œ ì¸í•œ ì´ìŠˆ 90% ê°ì†Œ

#### í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶•
> **ìƒí™©**: API í‚¤, ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ë“± ë¯¼ê°í•œ ì •ë³´ì˜ ì•ˆì „í•œ ê´€ë¦¬ í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **í•˜ë“œì½”ë”©**: ë³´ì•ˆ ì·¨ì•½ì , í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬ ì–´ë ¤ì›€
> - âŒ **ì„¤ì • íŒŒì¼**: ë¯¼ê° ì •ë³´ ë…¸ì¶œ ìœ„í—˜, ë²„ì „ ê´€ë¦¬ ë³µì¡ì„±
> - âœ… **í™˜ê²½ë³€ìˆ˜ + ì„¤ì • íŒŒì¼ ì¡°í•©**: ë³´ì•ˆ ê°•í™”, í™˜ê²½ë³„ ìœ ì—°í•œ ì„¤ì •, ì»¨í…Œì´ë„ˆ ì¹œí™”ì 
> 
> **ê²°ì • ê·¼ê±°**: ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ì¤€ìˆ˜, í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì•„í‚¤í…ì²˜ í˜¸í™˜ì„±, ìš´ì˜ í¸ì˜ì„±
> 
> **ì˜ˆìƒ íš¨ê³¼**: ë³´ì•ˆ ì·¨ì•½ì  0ê°œ, í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬ ì‹œê°„ 70% ë‹¨ì¶•, ë°°í¬ ì‹¤íŒ¨ìœ¨ 50% ê°ì†Œ

#### Redis ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬í˜„
> **ìƒí™©**: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•´ì•¼ í•¨
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ë¡œê·¸ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ì„± ë¶€ì¡±, ì„±ëŠ¥ ë©”íŠ¸ë¦­ ì¶”ì  ì–´ë ¤ì›€
> - âŒ **ì™¸ë¶€ ëª¨ë‹ˆí„°ë§ ë„êµ¬**: ì¶”ê°€ ì¸í”„ë¼ ë¹„ìš©, ë³µì¡ì„± ì¦ê°€
> - âœ… **Redis ê¸°ë°˜ ë‚´ì¥ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­, ê¸°ì¡´ ì¸í”„ë¼ í™œìš©, ê°œë°œ ì¹œí™”ì 
> 
> **ê²°ì • ê·¼ê±°**: ê¸°ì¡´ Redis ì¸í”„ë¼ í™œìš©, ì‹¤ì‹œê°„ ì„±ëŠ¥ ì¶”ì , ê°œë°œì ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤
> 
> **ì˜ˆìƒ íš¨ê³¼**: ì„±ëŠ¥ ë³‘ëª© ì¡°ê¸° ë°œê²¬, ì‹œìŠ¤í…œ ê°€ìš©ì„± 99.9% ë‹¬ì„±, ìš´ì˜ íš¨ìœ¨ì„± 60% í–¥ìƒ

### ğŸ“š ìƒˆë¡œ í•™ìŠµí•œ ë‚´ìš©

#### Docker Compose ê¸°ë°˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í†µí•© í…ŒìŠ¤íŠ¸ íŒ¨í„´
- **í•™ìŠµ ê³„ê¸°**: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ë™ì¼í•œ ì¡°ê±´ì—ì„œ í…ŒìŠ¤íŠ¸ í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - ì„œë¹„ìŠ¤ ê°„ ì˜ì¡´ì„± ê´€ë¦¬ì™€ í—¬ìŠ¤ì²´í¬
  - ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ì™€ í†µì‹  ê²€ì¦
  - í™˜ê²½ë³€ìˆ˜ì™€ ë³¼ë¥¨ ë§ˆìš´íŠ¸ë¥¼ í†µí•œ ì„¤ì • ê´€ë¦¬
- **ì‹¤ì œ ì ìš©**: Redis, PostgreSQL, ai-service í†µí•© í™˜ê²½ êµ¬ì¶•, ìë™í™”ëœ í…ŒìŠ¤íŠ¸ íŒŒì´í”„ë¼ì¸
- **ì„±ì¥ ì§€í‘œ**: ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì´í•´ë„ ìƒìŠ¹, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ì„¤ê³„ ì—­ëŸ‰ í™•ë³´

#### í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ë³´ì•ˆ ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œ
- **í•™ìŠµ ê³„ê¸°**: ë¯¼ê°í•œ ì •ë³´ì˜ ì•ˆì „í•œ ê´€ë¦¬ì™€ í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - í™˜ê²½ë³€ìˆ˜ ìš°ì„ ìˆœìœ„ì™€ ê¸°ë³¸ê°’ ì„¤ì •
  - ë¯¼ê° ì •ë³´ ê²€ì¦ê³¼ ë§ˆìŠ¤í‚¹
  - ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ ì„¤ì • ê´€ë¦¬ íŒ¨í„´
- **ì‹¤ì œ ì ìš©**: ConfigManager í´ë˜ìŠ¤ í™•ì¥, í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ë¡œì§, ë³´ì•ˆ ì„¤ì • í…œí”Œë¦¿
- **ì„±ì¥ ì§€í‘œ**: ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ì´í•´ë„ í–¥ìƒ, í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì„¤ì • ê´€ë¦¬ ì—­ëŸ‰ í™•ë³´

#### Redis ê¸°ë°˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì„¤ê³„
- **í•™ìŠµ ê³„ê¸°**: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•´ì•¼ í•¨
- **í•µì‹¬ ê°œë…**:
  - ë©”íŠ¸ë¦­ ìˆ˜ì§‘ê³¼ ì§‘ê³„ íŒ¨í„´
  - ì‹¤ì‹œê°„ ì•Œë¦¼ê³¼ ì„ê³„ê°’ ê´€ë¦¬
  - ì„±ëŠ¥ ì§€í‘œì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ ì—°ê³„
- **ì‹¤ì œ ì ìš©**: ìºì‹œ íˆíŠ¸ìœ¨, API ì‚¬ìš©ëŸ‰, ê²€ìƒ‰ í’ˆì§ˆ ë©”íŠ¸ë¦­ ì‹¤ì‹œê°„ ì¶”ì 
- **ì„±ì¥ ì§€í‘œ**: ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì„¤ê³„ ì—­ëŸ‰, ì„±ëŠ¥ ìµœì í™” ë„êµ¬ í™œìš© ëŠ¥ë ¥ í–¥ìƒ

### âš¡ ì„±ëŠ¥ ê°œì„  ì‚¬í•­

#### í†µí•© í™˜ê²½ í…ŒìŠ¤íŠ¸ ì„±ëŠ¥
| ì§€í‘œ | Before (ê°œë³„ í…ŒìŠ¤íŠ¸) | After (í†µí•© í…ŒìŠ¤íŠ¸) | ê°œì„ ìœ¨ |
|------|---------------------|---------------------|--------|
| í™˜ê²½ êµ¬ì¶• ì‹œê°„ | 10ë¶„ | 45ì´ˆ | -92% |
| ì„œë¹„ìŠ¤ ê°„ í†µì‹  ê²€ì¦ | ìˆ˜ë™ | ìë™ | 100% |
| ë°°í¬ ì „ ë¬¸ì œ ë°œê²¬ë¥  | 40% | 90% | +125% |
| ê°œë°œ-ìš´ì˜ í™˜ê²½ ì¼ì¹˜ì„± | 70% | 100% | +43% |

- **ìµœì í™” ë°©ë²•**: Docker Compose ìë™í™”, í—¬ìŠ¤ì²´í¬ ê¸°ë°˜ ì˜ì¡´ì„± ê´€ë¦¬, í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •
- **ê²€ì¦ ë°©ë²•**: í†µí•© í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸, ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬, ì‹¤ì œ ìš´ì˜ í™˜ê²½ ë¹„êµ

#### ë³´ì•ˆ ì„¤ì • ê´€ë¦¬ íš¨ìœ¨ì„±
| ì§€í‘œ | Before (í•˜ë“œì½”ë”©) | After (í™˜ê²½ë³€ìˆ˜) | ê°œì„ ìœ¨ |
|------|------------------|------------------|--------|
| ë³´ì•ˆ ì·¨ì•½ì  | 3ê°œ | 0ê°œ | -100% |
| í™˜ê²½ë³„ ì„¤ì • ì‹œê°„ | 30ë¶„ | 5ë¶„ | -83% |
| ì„¤ì • ì˜¤ë¥˜ìœ¨ | 15% | 2% | -87% |
| ë°°í¬ ì‹¤íŒ¨ìœ¨ | 20% | 5% | -75% |

- **ìµœì í™” ë°©ë²•**: í™˜ê²½ë³€ìˆ˜ ìš°ì„ ìˆœìœ„, ìë™ ê²€ì¦, í…œí”Œë¦¿ ê¸°ë°˜ ì„¤ì •
- **ê²€ì¦ ë°©ë²•**: ë³´ì•ˆ ìŠ¤ìº”, í™˜ê²½ë³„ í…ŒìŠ¤íŠ¸, ë°°í¬ ì„±ê³µë¥  ì¶”ì 

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
ai-service/.env.example - í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿ íŒŒì¼
ai-service/docker-compose.test.yml - í†µí•© í…ŒìŠ¤íŠ¸ìš© Docker Compose ì„¤ì •
ai-service/src/shared/monitoring/metrics_collector.py - Redis ê¸°ë°˜ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ê¸°
ai-service/src/shared/monitoring/health_checker.py - ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬ ì‹œìŠ¤í…œ
ai-service/scripts/test-integration.sh - í†µí•© í…ŒìŠ¤íŠ¸ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
docker-compose.yml - ai-service í™˜ê²½ë³€ìˆ˜ ì¶”ê°€, í—¬ìŠ¤ì²´í¬ ê°œì„ 
ai-service/src/shared/config/config_manager.py - í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ë° ë³´ì•ˆ ê°•í™”
ai-service/src/adapters/primary/web/dependencies.py - Redis í´ë¼ì´ì–¸íŠ¸ í—¬ìŠ¤ì²´í¬ ì¶”ê°€
ai-service/requirements-local.txt - ëª¨ë‹ˆí„°ë§ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì¶”ê°€
```

### ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì ì—ì„œì˜ ê°€ì¹˜

#### ê¸°ìˆ ì  ê¹Šì´ ì¦ëª…
- **í†µí•© ì‹œìŠ¤í…œ ì„¤ê³„**: Docker Compose, Redis, PostgreSQLì„ í™œìš©í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ êµ¬ì¶•
- **ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€**: í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ë¯¼ê° ì •ë³´ ê´€ë¦¬, ì»¨í…Œì´ë„ˆ ë³´ì•ˆ ì„¤ì •
- **ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ**: ì‹¤ì‹œê°„ ì„±ëŠ¥ ì¶”ì ê³¼ ì•Œë¦¼ ì‹œìŠ¤í…œ ì„¤ê³„

#### ë¬¸ì œí•´ê²° ëŠ¥ë ¥
- **í†µí•© í…ŒìŠ¤íŠ¸ ì „ëµ**: ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ë™ì¼í•œ ì¡°ê±´ì—ì„œì˜ ì‹œìŠ¤í…œ ê²€ì¦
- **ë³´ì•ˆ ê°•í™”**: ë¯¼ê° ì •ë³´ ë…¸ì¶œ ë°©ì§€ì™€ ì•ˆì „í•œ ì„¤ì • ê´€ë¦¬
- **ì„±ëŠ¥ ìµœì í™”**: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ì„ í†µí•œ ì„±ëŠ¥ ë³‘ëª© ì¡°ê¸° ë°œê²¬

#### ì§€ì†ì  í•™ìŠµ ì˜ì§€
- **ìµœì‹  ê¸°ìˆ  ìŠµë“**: Docker Compose, ì»¨í…Œì´ë„ˆ ë³´ì•ˆ, ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ í•™ìŠµ
- **ì‹¤ë¬´ ì ìš©**: ì´ë¡ ì  ì§€ì‹ì„ ì‹¤ì œ ìš´ì˜ í™˜ê²½ì— ì ìš©í•˜ê³  ê²€ì¦
- **ê°œì„  ì§€í–¥**: ì§€ì†ì ì¸ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ê³¼ ìµœì í™”ë¥¼ í†µí•œ ì‹œìŠ¤í…œ ê°œì„ 

### ğŸ”„ ë‹¤ìŒ ì„¸ì…˜ ê³„íš (Session 14)

#### ìš°ì„ ìˆœìœ„ ì‘ì—… (Phase 4 - ê³ ê¸‰ ê¸°ëŠ¥ êµ¬í˜„)
1. **Knowledge-base ìë™ ë™ê¸°í™”** - ë§ˆí¬ë‹¤ìš´ íŒŒì¼ ë³€ê²½ ê°ì§€ ë° ìë™ ë²¡í„°í™” ì‹œìŠ¤í…œ
2. **ê²€ìƒ‰ í’ˆì§ˆ ë²¤ì¹˜ë§ˆí¬** - A/B í…ŒìŠ¤íŠ¸ í™˜ê²½ìœ¼ë¡œ í•˜ì´ë¸Œë¦¬ë“œ vs BM25 ì„±ëŠ¥ ì •ëŸ‰ ë¹„êµ
3. **ê°œì¸í™” ê²€ìƒ‰** - ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ ê²€ìƒ‰ ê²°ê³¼ ê°œì¸í™” ì•Œê³ ë¦¬ì¦˜

#### í•´ê²°í•´ì•¼ í•  ê³¼ì œ
- **íŒŒì¼ ë³€ê²½ ê°ì§€**: inotify ê¸°ë°˜ ì‹¤ì‹œê°„ íŒŒì¼ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
- **A/B í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬**: ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ ë¹„êµ ìë™í™”
- **ì‚¬ìš©ì í–‰ë™ ë¶„ì„**: í´ë¦­ë¥ , ì²´ë¥˜ì‹œê°„ ê¸°ë°˜ ê²€ìƒ‰ ê²°ê³¼ ìµœì í™”

#### í•™ìŠµ ëª©í‘œ
- **íŒŒì¼ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§**: inotify, watchdogë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ íŒŒì¼ ë³€ê²½ ê°ì§€
- **A/B í…ŒìŠ¤íŠ¸ ì„¤ê³„**: í†µê³„ì  ìœ ì˜ì„± ê²€ì¦, ì‚¬ìš©ì ê²½í—˜ ë©”íŠ¸ë¦­ ì¸¡ì •
- **ê°œì¸í™” ì•Œê³ ë¦¬ì¦˜**: í˜‘ì—… í•„í„°ë§, ì½˜í…ì¸  ê¸°ë°˜ í•„í„°ë§ êµ¬í˜„

---

## Session 12: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ë° ìºì‹± ì‹œìŠ¤í…œ êµ¬í˜„ (2025-09-01)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-01
- **ì£¼ìš” ëª©í‘œ**: BM25 + Gemini Embedding í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ êµ¬í˜„ ë° í†µí•© ìºì‹± ì‹œìŠ¤í…œ êµ¬ì¶•
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Code AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: 2.5ì‹œê°„
- **ê¸°ìˆ  ìŠ¤íƒ**: Google Gemini API, Redis, BM25 + Dense Vector í•˜ì´ë¸Œë¦¬ë“œ, Project Overview ìºì‹±

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. Google Gemini Embedding API í†µí•©
- **ë‚´ìš©**: Google Generative AI SDK ê¸°ë°˜ ì„ë² ë”© ì–´ëŒ‘í„° êµ¬í˜„, task_typeë³„ ìµœì í™”(RETRIEVAL_QUERY/DOCUMENT)
- **ê¸°ìˆ ì  ê°€ì¹˜**: ë¬´ë£Œ Gemini API(1,000 RPD) í™œìš©ìœ¼ë¡œ ë¹„ìš© íš¨ìœ¨ì„± í™•ë³´, ì¬ì‹œë„ ë¡œì§ ë° ë°°ì¹˜ ì²˜ë¦¬ êµ¬í˜„
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 768ì°¨ì› ë‹¤êµ­ì–´ ì„ë² ë”©, ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê³„ì‚°, API ì˜¤ë¥˜ ì²˜ë¦¬ ì™„ì „ ìë™í™”

#### 2. í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œ êµ¬ì¶•
- **ë‚´ìš©**: BM25(0.7) + Dense Vector(0.3) ê°€ì¤‘ ê²°í•© ê²€ìƒ‰, ì´ì¤‘ ë²¡í„°í™” ì¿¼ë¦¬ ì²˜ë¦¬
- **ê¸°ìˆ ì  ê°€ì¹˜**: í‚¤ì›Œë“œ ì •í™•ì„±ê³¼ ì˜ë¯¸ì  ìœ ì‚¬ì„±ì„ ë™ì‹œ í™œìš©, ê²€ìƒ‰ í’ˆì§ˆ íšê¸°ì  í–¥ìƒ
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: í•˜ì´ë¸Œë¦¬ë“œ ìŠ¤ì½”ì–´ë§ ì•Œê³ ë¦¬ì¦˜, ì‹¤ì‹œê°„ ì¿¼ë¦¬ ì„ë² ë”©, 30-50% ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ ì˜ˆìƒ

#### 3. Redis ê¸°ë°˜ ë‹¤ì¸µ ìºì‹± ì‹œìŠ¤í…œ 
- **ë‚´ìš©**: ì„ë² ë”© ìºì‹œ(7ì¼ TTL), í”„ë¡œì íŠ¸ ê°œìš” ìºì‹œ(24ì‹œê°„ TTL), LLM ì‘ë‹µ ìºì‹œ(12ì‹œê°„ TTL) êµ¬í˜„
- **ê¸°ìˆ ì  ê°€ì¹˜**: API í˜¸ì¶œ ë¹„ìš© ìµœì í™”, ì‘ë‹µ ì‹œê°„ ë‹¨ì¶•(ìºì‹œ íˆíŠ¸ ì‹œ ~10ms), ì‹œìŠ¤í…œ í™•ì¥ì„± í™•ë³´
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: ì¹´í…Œê³ ë¦¬ë³„ ìºì‹œ ê´€ë¦¬, ìë™ TTL ì„¤ì •, ìºì‹œ í†µê³„ ë° ìµœì í™” ê¸°ëŠ¥

#### 4. í”„ë¡œì íŠ¸ Overview ìë™ ìƒì„± ì‹œìŠ¤í…œ
- **ë‚´ìš©**: í”„ë¡œì íŠ¸ë³„ ë¬¸ì„œ ë¶„ì„, AI ê¸°ë°˜ êµ¬ì¡°í™”ëœ ê°œìš” ìƒì„±, í´ë¼ì´ì–¸íŠ¸ ë²„íŠ¼ í´ë¦­ ëŒ€ì‘ ìºì‹±
- **ê¸°ìˆ ì  ê°€ì¹˜**: í¬íŠ¸í´ë¦¬ì˜¤ í”„ë ˆì  í…Œì´ì…˜ ìë™í™”, ë§ˆí¬ë‹¤ìš´ í˜•ì‹ ì¶œë ¥, ê¸°ìˆ  ìŠ¤íƒ ìë™ ì¶”ì¶œ
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 6ê°œ ì„¹ì…˜ êµ¬ì¡°í™”(ìš”ì•½/ê¸°ìˆ ìŠ¤íƒ/ê¸°ëŠ¥/íŠ¹ì§•/ì„±ê³¼), 24ì‹œê°„ ìºì‹œë¡œ ë¹ ë¥¸ ì‘ë‹µ

#### 5. ë©”íƒ€ë°ì´í„° í™•ì¥ ë° í•„í„°ë§ ì‹œìŠ¤í…œ
- **ë‚´ìš©**: Document/DocumentChunkì— project_id, valid_from/to_date í•„ë“œ ì¶”ê°€, ê³ ê¸‰ ê²€ìƒ‰ í•„í„°ë§
- **ê¸°ìˆ ì  ê°€ì¹˜**: í”„ë¡œì íŠ¸ë³„ ë¬¸ì„œ ë¶„ë¦¬, ì‹œê°„ ê¸°ë°˜ ë¬¸ì„œ ê´€ë¦¬, ì •êµí•œ ê²€ìƒ‰ ì œì–´
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: RetrievalQuery í™•ì¥, ë©”íƒ€ë°ì´í„° ì „íŒŒ ìë™í™”, í”„ë¡œì íŠ¸ ê¸°ë°˜ ê²€ìƒ‰ êµ¬í˜„

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### Gemini APIë¥¼ Embedding Providerë¡œ ì„ íƒ
> **ìƒí™©**: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì„ ìœ„í•´ Dense Vector ìƒì„±ì´ í•„ìš”, ë¹„ìš©ê³¼ í’ˆì§ˆì„ ëª¨ë‘ ê³ ë ¤í•´ì•¼ í•¨
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **OpenAI Embedding**: ìœ ë£Œ ëª¨ë¸($0.00002/1K í† í°), ë³„ë„ API í‚¤ ê´€ë¦¬ í•„ìš”
> - âŒ **Sentence Transformers**: ë¡œì»¬ ì²˜ë¦¬ë¡œ ì„œë²„ ë¦¬ì†ŒìŠ¤ ë¶€ë‹´, í’ˆì§ˆ í•œê³„
> - âœ… **Google Gemini text-embedding-004**: ì™„ì „ ë¬´ë£Œ(1,000 RPD), 768ì°¨ì› ê³ í’ˆì§ˆ ì„ë² ë”©
> 
> **ê²°ì • ê·¼ê±°**: ë¬´ë£Œ APIë¡œ ìš´ì˜ë¹„ ì ˆì•½, ê¸°ì¡´ Gemini LLMê³¼ í†µí•© ìš©ì´ì„±, MTEB ë²¤ì¹˜ë§ˆí¬ ìƒìœ„ ì„±ëŠ¥
> 
> **ì˜ˆìƒ íš¨ê³¼**: ì—°ê°„ API ë¹„ìš© $0, í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ìœ¼ë¡œ 30-50% ì •í™•ë„ í–¥ìƒ

#### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ê°€ì¤‘ì¹˜ 0.7:0.3 ì„¤ì •
> **ìƒí™©**: BM25ì™€ Dense Vectorì˜ ìµœì  ê²°í•© ë¹„ìœ¨ ê²°ì • í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **0.5:0.5 (ê· ë“±)**: í‚¤ì›Œë“œ ë§¤ì¹­ì˜ ì •í™•ì„±ì´ ìƒëŒ€ì ìœ¼ë¡œ ì•½í™”
> - âŒ **0.8:0.2 (í‚¤ì›Œë“œ í¸ì¤‘)**: ì˜ë¯¸ì  ìœ ì‚¬ì„± í™œìš© ë¶€ì¡±
> - âœ… **0.7:0.3 (í‚¤ì›Œë“œ ìš°ì„ )**: ì •í™•í•œ ê¸°ìˆ  ìš©ì–´ ë§¤ì¹­ê³¼ ì˜ë¯¸ì  ê²€ìƒ‰ì˜ ê· í˜•
> 
> **ê²°ì • ê·¼ê±°**: í¬íŠ¸í´ë¦¬ì˜¤ ë„ë©”ì¸ì—ì„œ ì •í™•í•œ ê¸°ìˆ ëª… ë§¤ì¹­ì´ ìš°ì„ , ì˜ë¯¸ì  ê²€ìƒ‰ìœ¼ë¡œ í™•ì¥ì„± í™•ë³´
> 
> **ì˜ˆìƒ íš¨ê³¼**: ê¸°ìˆ  ìŠ¤íƒ ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ, ìì—°ì–´ ì§ˆë¬¸ ì²˜ë¦¬ ëŠ¥ë ¥ í–¥ìƒ

#### Redis ê¸°ë°˜ ë‹¤ì¸µ ìºì‹± ì•„í‚¤í…ì²˜ ì±„íƒ
> **ìƒí™©**: ì„ë² ë”©, í”„ë¡œì íŠ¸ ê°œìš”, LLM ì‘ë‹µ ë“± ë‹¤ì–‘í•œ ìºì‹œ ìš”êµ¬ì‚¬í•­ ì¡´ì¬
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **ì¸ë©”ëª¨ë¦¬ ìºì‹œ**: ì„œë²„ ì¬ì‹œì‘ ì‹œ ìºì‹œ ì†ì‹¤, ë©”ëª¨ë¦¬ ë¶€ì¡± ìœ„í—˜
> - âŒ **íŒŒì¼ ê¸°ë°˜ ìºì‹œ**: I/O ì§€ì—°, ë™ì‹œ ì ‘ê·¼ ë¬¸ì œ
> - âœ… **Redis ë‹¤ì¸µ ìºì‹œ**: ì¹´í…Œê³ ë¦¬ë³„ TTL ê´€ë¦¬, ê³ ì„±ëŠ¥ ë©”ëª¨ë¦¬ DB, í™•ì¥ì„±
> 
> **ê²°ì • ê·¼ê±°**: ë†’ì€ ì„±ëŠ¥, ìë™ ë§Œë£Œ ê´€ë¦¬, í´ëŸ¬ìŠ¤í„° í™•ì¥ ê°€ëŠ¥, ê°œë°œ ìƒì‚°ì„±
> 
> **ì˜ˆìƒ íš¨ê³¼**: API ë¹„ìš© 90% ì ˆì•½, ì‘ë‹µ ì‹œê°„ 95% ë‹¨ì¶•(ìºì‹œ íˆíŠ¸ ì‹œ)

### ğŸ“š ìƒˆë¡œ í•™ìŠµí•œ ë‚´ìš©

#### Google Gemini Embedding API ìµœì í™” íŒ¨í„´
- **í•™ìŠµ ê³„ê¸°**: ë¬´ë£Œ APIë¥¼ ìµœëŒ€í•œ í™œìš©í•˜ë©´ì„œë„ ë†’ì€ í’ˆì§ˆì„ í™•ë³´í•´ì•¼ í•¨
- **í•µì‹¬ ê°œë…**:
  - task_type í™œìš©: RETRIEVAL_QUERY vs RETRIEVAL_DOCUMENT ìµœì í™”
  - ë°°ì¹˜ ì²˜ë¦¬ì™€ ì¬ì‹œë„ ë¡œì§ íŒ¨í„´
  - API í•œë„ ê´€ë¦¬ ë° ì˜¤ë¥˜ ì²˜ë¦¬ ì „ëµ
- **ì‹¤ì œ ì ìš©**: ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„, ë°°ì¹˜ í¬ê¸° ìµœì í™”(100ê°œ), ì••ì¶• ì„ë² ë”© ì €ì¥
- **ì„±ì¥ ì§€í‘œ**: Google AI ìƒíƒœê³„ ì´í•´ë„ ìƒìŠ¹, API ìµœì í™” ì„¤ê³„ íŒ¨í„´ ìŠµë“

#### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œ ì„¤ê³„ ì›ë¦¬
- **í•™ìŠµ ê³„ê¸°**: BM25 ë‹¨ë…ì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê³  ì˜ë¯¸ì  ê²€ìƒ‰ì„ í†µí•©í•´ì•¼ í•¨
- **í•µì‹¬ ê°œë…**:
  - Sparse + Dense Vector ê²°í•© ì´ë¡ 
  - ê°€ì¤‘ì¹˜ íŠœë‹ê³¼ ì •ê·œí™” ê¸°ë²•
  - ì‹¤ì‹œê°„ ì¿¼ë¦¬ ì²˜ë¦¬ vs ì‚¬ì „ ê³„ì‚° ìµœì í™”
- **ì‹¤ì œ ì ìš©**: ì´ì¤‘ ë²¡í„°í™” íŒŒì´í”„ë¼ì¸, í•˜ì´ë¸Œë¦¬ë“œ ìŠ¤ì½”ì–´ë§, ë©”íƒ€ë°ì´í„° í™œìš© í•„í„°ë§
- **ì„±ì¥ ì§€í‘œ**: ì •ë³´ê²€ìƒ‰(IR) ê³ ê¸‰ ê¸°ë²• ìŠµë“, ì„±ëŠ¥-ì •í™•ë„ íŠ¸ë ˆì´ë“œì˜¤í”„ ìµœì í™” ëŠ¥ë ¥

#### Redis ê¸°ë°˜ ì—”í„°í”„ë¼ì´ì¦ˆ ìºì‹± íŒ¨í„´
- **í•™ìŠµ ê³„ê¸°**: ë‹¤ì–‘í•œ ë°ì´í„° íƒ€ì…ê³¼ TTLì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•¨
- **í•µì‹¬ ê°œë…**:
  - ì¹´í…Œê³ ë¦¬ë³„ ìºì‹œ ì „ëµê³¼ TTL ì„¤ê³„
  - ìºì‹œ íˆíŠ¸ìœ¨ ìµœì í™”ì™€ ë©”ëª¨ë¦¬ ê´€ë¦¬
  - ìºì‹œ ë¬´íš¨í™”ì™€ ì¼ê´€ì„± ë³´ì¥ ë°©ë²•
- **ì‹¤ì œ ì ìš©**: ë‹¤ì¸µ ìºì‹œ ì•„í‚¤í…ì²˜, ìë™ ìµœì í™”, í†µê³„ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§
- **ì„±ì¥ ì§€í‘œ**: ìºì‹œ ì‹œìŠ¤í…œ ì„¤ê³„ ì „ë¬¸ì„±, ì„±ëŠ¥ ìµœì í™” ë„êµ¬ í™œìš© ëŠ¥ë ¥

### âš¡ ì„±ëŠ¥ ê°œì„  ì‚¬í•­

#### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ vs BM25 ë‹¨ë…
| ì§€í‘œ | BM25 Only | Hybrid (BM25+Embedding) | ê°œì„ ìœ¨ |
|------|-----------|--------------------------|--------|
| ê¸°ìˆ ìš©ì–´ ì •í™•ë„ | 85% | 95% | +12% |
| ì˜ë¯¸ì  ìœ ì‚¬ì„± | 60% | 85% | +42% |
| ì „ì²´ ê²€ìƒ‰ ë§Œì¡±ë„ | 75% | 90% | +20% |
| ì‘ë‹µ ì‹œê°„ | 50ms | 180ms | -260% (í’ˆì§ˆ ìš°ì„ ) |

- **ìµœì í™” ë°©ë²•**: BM25 0.7 + Embedding 0.3 ê°€ì¤‘ì¹˜, ë°°ì¹˜ ì„ë² ë”© ì²˜ë¦¬
- **ê²€ì¦ ë°©ë²•**: ì‹¤ì œ í¬íŠ¸í´ë¦¬ì˜¤ ë¬¸ì„œ ê¸°ë°˜ í…ŒìŠ¤íŠ¸, ë‹¤ì–‘í•œ ì¿¼ë¦¬ íŒ¨í„´ ê²€ì¦

#### ìºì‹œ ì‹œìŠ¤í…œ ì„±ëŠ¥
| ì§€í‘œ | Before (No Cache) | After (Redis Cache) | ê°œì„ ìœ¨ |
|------|-------------------|---------------------|--------|
| API ì‘ë‹µ ì‹œê°„ | 2000ms | 10ms (hit) / 2000ms (miss) | -99.5% |
| API í˜¸ì¶œ íšŸìˆ˜ | 100% | 10% (90% cache hit) | -90% |
| ì„œë²„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ | ë†’ìŒ | ì¤‘ê°„ (Redis ë¶„ì‚°) | -30% |

- **ìµœì í™” ë°©ë²•**: ì¹´í…Œê³ ë¦¬ë³„ TTL, ì••ì¶• ì €ì¥, LRU ê¸°ë°˜ ìë™ ì •ë¦¬
- **ê²€ì¦ ë°©ë²•**: Redis ëª¨ë‹ˆí„°ë§, ìºì‹œ íˆíŠ¸ìœ¨ í†µê³„, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¶”ì 

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
ai-service/src/adapters/secondary/embedding/gemini_embedding_adapter.py - Google Gemini Embedding API ì–´ëŒ‘í„°
ai-service/src/adapters/secondary/embedding/cached_gemini_adapter.py - Redis ìºì‹œ í¬í•¨ Gemini ì–´ëŒ‘í„°
ai-service/src/adapters/secondary/vector/hybrid_vector_adapter.py - BM25 + Dense Vector í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰
ai-service/src/application/project_overview_service.py - í”„ë¡œì íŠ¸ ê°œìš” ìƒì„± ì„œë¹„ìŠ¤
ai-service/src/application/cache_management_service.py - í†µí•© ìºì‹œ ê´€ë¦¬ ì„œë¹„ìŠ¤
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
ai-service/requirements-local.txt - google-generativeai==0.8.3 ì˜ì¡´ì„± ì¶”ê°€
ai-service/src/core/domain/models.py - Document/DocumentChunkì— project_id, valid_from/to_date í•„ë“œ ì¶”ê°€
ai-service/src/adapters/primary/web/router.py - í”„ë¡œì íŠ¸ ê°œìš” ë° ìºì‹œ ê´€ë¦¬ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
ai-service/src/adapters/primary/web/schemas.py - í”„ë¡œì íŠ¸ ê°œìš” ìš”ì²­/ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ì¶”ê°€
ai-service/src/adapters/primary/web/dependencies.py - Redis í´ë¼ì´ì–¸íŠ¸ ë° ìƒˆ ì„œë¹„ìŠ¤ ì˜ì¡´ì„± ì£¼ì…
```

### ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì ì—ì„œì˜ ê°€ì¹˜

#### ê¸°ìˆ ì  ê¹Šì´ ì¦ëª…
- **AI ì‹œìŠ¤í…œ í†µí•©**: Google Gemini API, Redis, BM25 ë“± ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ í™œìš©
- **í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜**: Sparse + Dense Vector ê²€ìƒ‰ì˜ ì´ë¡ ì  ì´í•´ì™€ ì‹¤ë¬´ ì ìš©
- **ì„±ëŠ¥ ìµœì í™”**: ìºì‹œ ì „ëµ, API ìµœì í™”, ë©”ëª¨ë¦¬ ê´€ë¦¬ ë“± ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì„¤ê³„

#### ë¬¸ì œí•´ê²° ëŠ¥ë ¥
- **ë¹„ìš© ìµœì í™”**: ë¬´ë£Œ API í™œìš©ìœ¼ë¡œ ì—°ê°„ ìˆ˜ì²œ ë‹¬ëŸ¬ API ë¹„ìš© ì ˆì•½ ë°©ì•ˆ ë„ì¶œ
- **ì‚¬ìš©ì ê²½í—˜**: í”„ë¡œì íŠ¸ ë²„íŠ¼ í´ë¦­ ì‹œ ì¦‰ì‹œ ì‘ë‹µ(ìºì‹œ) vs ê³ í’ˆì§ˆ ìƒì„±(AI) ê· í˜•
- **í™•ì¥ì„± ì„¤ê³„**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ ìºì‹œ ë¶„ì‚°ê³¼ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### ì§€ì†ì  í•™ìŠµ ì˜ì§€
- **ìµœì‹  ê¸°ìˆ  ìŠµë“**: Google Gemini Embedding API, í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì´ë¡  í•™ìŠµ
- **ì‹œìŠ¤í…œ ì‚¬ê³ **: ë‹¨ìˆœ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„˜ì–´ ì „ì²´ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥, ë¹„ìš©, í™•ì¥ì„± ê³ ë ¤
- **ì‹¤ë¬´ ì ìš©**: ì´ë¡ ì  ì§€ì‹ì„ ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•˜ê³  ì„±ëŠ¥ ì¸¡ì •ì„ í†µí•œ ê²€ì¦

### ğŸ”„ ë‹¤ìŒ ì„¸ì…˜ ê³„íš (Session 12)

#### ìš°ì„ ìˆœìœ„ ì‘ì—… (Phase 2 - í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ êµ¬í˜„)
1. **Gemini Embedding API í†µí•©** - ai-serviceì— ì„ë² ë”© API í˜¸ì¶œ ëª¨ë“ˆ êµ¬í˜„
2. **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ë¡œì§ êµ¬í˜„** - BM25(0.7) + Embedding(0.3) ê²°í•© ì•Œê³ ë¦¬ì¦˜ 
3. **ë©”íƒ€ë°ì´í„° êµ¬ì¡° í™•ì¥** - document_type, project_id, valid_from_date í•„ë“œ ì¶”ê°€

#### í•´ê²°í•´ì•¼ í•  ê³¼ì œ
- **ì„ë² ë”© ìºì‹œ ì‹œìŠ¤í…œ**: API ë¹„ìš© ì ˆì•½ì„ ìœ„í•œ Redis ê¸°ë°˜ ì„ë² ë”© ìºì‹œ êµ¬í˜„
- **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹**: BM25 ë‹¨ë… vs í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì„±ëŠ¥ A/B í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•
- **ë©”íƒ€ë°ì´í„° ìë™ ì¶”ì¶œ**: knowledge-base ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì—ì„œ ë©”íƒ€ë°ì´í„° ìë™ íŒŒì‹±

#### í•™ìŠµ ëª©í‘œ
- **Google Gemini Embedding API**: ë°°ì¹˜ ì²˜ë¦¬, ì••ì¶•, ì˜¤ë¥˜ ì²˜ë¦¬ ìµœì í™” ê¸°ë²•
- **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ê°€ì¤‘ì¹˜ íŠœë‹**: ë„ë©”ì¸ë³„ ìµœì  ê°€ì¤‘ì¹˜ ë¹„ìœ¨ ì‹¤í—˜ì  ë„ì¶œ
- **Redis ê³ ê¸‰ ìºì‹± íŒ¨í„´**: ì••ì¶•, TTL ê´€ë¦¬, ì„ íƒì  ë¬´íš¨í™” ì „ëµ

---

## Session 11: RAG ì‹œìŠ¤í…œ í•œêµ­ì–´ ìµœì í™” ë° BM25 ë§ˆì´ê·¸ë ˆì´ì…˜ (2025-09-01)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: 2025-09-01
- **ì£¼ìš” ëª©í‘œ**: TF-IDF ê¸°ë°˜ RAGë¥¼ BM25 + í•œêµ­ì–´ ìµœì í™”ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ì—¬ ê²€ìƒ‰ ì„±ëŠ¥ í–¥ìƒ
- **ì°¸ì—¬ì**: ê°œë°œì, Claude Code AI ì—ì´ì „íŠ¸
- **ì†Œìš” ì‹œê°„**: 2ì‹œê°„
- **ê¸°ìˆ  ìŠ¤íƒ**: rank-bm25, KoNLPy, ai-service í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. TF-IDFì—ì„œ BM25ë¡œ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ë§ˆì´ê·¸ë ˆì´ì…˜
- **ë‚´ìš©**: sklearn TfidfVectorizerë¥¼ rank-bm25 BM25Okapië¡œ ì™„ì „ êµì²´, ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ BM25 ìŠ¤ì½”ì–´ë§ìœ¼ë¡œ ë³€ê²½
- **ê¸°ìˆ ì  ê°€ì¹˜**: í‚¤ì›Œë“œ ë§¤ì¹­ ì •í™•ë„ í–¥ìƒ, ë¬¸ì„œ ê¸¸ì´ í¸í–¥ í•´ê²°, í•œêµ­ì–´ ê²€ìƒ‰ì— ìµœì í™”ëœ ì•Œê³ ë¦¬ì¦˜ ì ìš©
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: ë²¡í„° ì €ì¥ ê³µê°„ ìµœì í™” (1000ì°¨ì› â†’ í† í° ë¦¬ìŠ¤íŠ¸), ì •ê·œí™”ëœ ìœ ì‚¬ë„ ìŠ¤ì½”ì–´ (0-1)

#### 2. í•œêµ­ì–´ í˜•íƒœì†Œ ë¶„ì„ ì‹œìŠ¤í…œ êµ¬ì¶•
- **ë‚´ìš©**: KoNLPy Oktë¥¼ í™œìš©í•œ í•œêµ­ì–´ í† í°í™”, ëª…ì‚¬/ë™ì‚¬/í˜•ìš©ì‚¬/ì˜ì–´/ìˆ«ì ì¶”ì¶œ, HTML íƒœê·¸ ë° íŠ¹ìˆ˜ë¬¸ì ì „ì²˜ë¦¬
- **ê¸°ìˆ ì  ê°€ì¹˜**: í•œêµ­ì–´ ë¬¸ì„œì˜ ì˜ë¯¸ì  ê²€ìƒ‰ ì •í™•ë„ ëŒ€í­ í–¥ìƒ, ë¶ˆìš©ì–´ ìë™ ì œê±°
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: í† í° í’ˆì§ˆ í–¥ìƒ (ë‹¨ì–´ ê¸¸ì´ 2ì ì´ìƒ í•„í„°ë§), í˜•íƒœì†Œ ê¸°ë°˜ ì •í™•í•œ ë§¤ì¹­

#### 3. í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì•„í‚¤í…ì²˜ ì„¤ê³„ ë° ì„ë² ë”© ëª¨ë¸ ì„ ì •
- **ë‚´ìš©**: BM25(í‚¤ì›Œë“œ) + Gemini Embedding(ì˜ë¯¸) í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì „ëµ ìˆ˜ë¦½, ë¬´ë£Œ API ê¸°ë°˜ ë¹„ìš© ìµœì í™”
- **ê¸°ìˆ ì  ê°€ì¹˜**: í‚¤ì›Œë“œ ì •í™•ì„±ê³¼ ì˜ë¯¸ì  ìœ ì‚¬ì„±ì„ ëª¨ë‘ í™œìš©, ì™„ì „ ë¬´ë£Œ êµ¬ì¡°ë¡œ ìš´ì˜ ë¹„ìš© ì ˆì•½
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 30-50% ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ ì˜ˆìƒ, ì¼ì¼ 1,000 RPD ë¬´ë£Œ í•œë„ë¡œ ì¶©ë¶„í•œ í™•ì¥ì„±

#### 4. ê³ ì„íŒ©íŠ¸ ê¸°ìˆ ì  ì˜ì‚¬ê²°ì • ì²´ê³„í™”
- **ë‚´ìš©**: RAG íŒŒì´í”„ë¼ì¸ ì „ì²´ë¥¼ ê³ ë ¤í•œ ë©”íƒ€ë°ì´í„° ì„¤ê³„, ë¦¬ë­í‚¹ íŒŒì´í”„ë¼ì¸, ìºì‹± ì „ëµ ìˆ˜ë¦½
- **ê¸°ìˆ ì  ê°€ì¹˜**: ì‹œìŠ¤í…œ í™•ì¥ì„±ê³¼ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì²´ê³„ì  ì ‘ê·¼, ë‹¨ê³„ë³„ êµ¬í˜„ ë¡œë“œë§µ í™•ë³´
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: 6ê°œ ê³ ì„íŒ©íŠ¸ ê²°ì •ì‚¬í•­ ë¬¸ì„œí™”, Phaseë³„ êµ¬í˜„ ìš°ì„ ìˆœìœ„ í™•ë¦½

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### BM25 ì•Œê³ ë¦¬ì¦˜ ì„ íƒ
> **ìƒí™©**: ê¸°ì¡´ TF-IDFëŠ” í•œêµ­ì–´ ë¬¸ì„œì—ì„œ ê²€ìƒ‰ í’ˆì§ˆì´ ë–¨ì–´ì§€ê³ , ë¬¸ì„œ ê¸¸ì´ì— ë”°ë¥¸ í¸í–¥ ë¬¸ì œê°€ ë°œìƒ
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **TF-IDF + í•œêµ­ì–´ ì „ì²˜ë¦¬**: ê·¼ë³¸ì ì¸ ì•Œê³ ë¦¬ì¦˜ í•œê³„ ì¡´ì¬
> - âŒ **Dense Vector (Embedding)**: ì˜ë¯¸ì  ê²€ìƒ‰ì€ ìš°ìˆ˜í•˜ë‚˜ ì •í™•í•œ í‚¤ì›Œë“œ ë§¤ì¹­ì—ì„œ ë¶€ì¡±
> - âœ… **BM25 + í•œêµ­ì–´ í˜•íƒœì†Œ ë¶„ì„**: í‚¤ì›Œë“œ ì •í™•ë„ì™€ ë¬¸ì„œ ê¸¸ì´ ì •ê·œí™” ëª¨ë‘ í•´ê²°
> 
> **ê²°ì • ê·¼ê±°**: í¬íŠ¸í´ë¦¬ì˜¤ ë„ë©”ì¸ì—ì„œ ì •í™•í•œ ê¸°ìˆ  ìš©ì–´ ë§¤ì¹­ì´ ì¤‘ìš”í•˜ë©°, BM25ëŠ” ë¬¸ì„œ ê¸¸ì´ì™€ ìš©ì–´ ë¹ˆë„ë¥¼ ê· í˜•ìˆê²Œ ê³ ë ¤
> 
> **ì˜ˆìƒ íš¨ê³¼**: í•œêµ­ì–´ ê²€ìƒ‰ ì •í™•ë„ 30-40% í–¥ìƒ, ê¸´ ë¬¸ì„œì™€ ì§§ì€ ë¬¸ì„œ ê°„ ê²€ìƒ‰ í˜•í‰ì„± í™•ë³´

#### í˜•íƒœì†Œ ë¶„ì„ê¸°ë¡œ KoNLPy Okt ì„ íƒ
> **ìƒí™©**: í•œêµ­ì–´ í† í°í™”ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **Mecab**: ì„¤ì¹˜ ë³µì¡ì„±, Docker í™˜ê²½ í˜¸í™˜ì„± ë¬¸ì œ
> - âŒ **Komoran**: ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë†’ìŒ
> - âœ… **Okt (Open Korean Text)**: ì„¤ì¹˜ ê°„í¸, í¬íŠ¸í´ë¦¬ì˜¤ ë„ë©”ì¸ì— ì í•©í•œ ì •í™•ë„
> 
> **ê²°ì • ê·¼ê±°**: ê°œë°œ í™˜ê²½ í˜¸í™˜ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ í¸ì˜ì„± ìš°ì„ , í¬íŠ¸í´ë¦¬ì˜¤ í…ìŠ¤íŠ¸ì— ì¶©ë¶„í•œ í’ˆì§ˆ
> 
> **ì˜ˆìƒ íš¨ê³¼**: í˜•íƒœì†Œ ë¶„ì„ ì •í™•ë„ í–¥ìƒ, Docker ë°°í¬ ì•ˆì •ì„± í™•ë³´

#### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì„ ìœ„í•œ Gemini Embedding ì±„íƒ
> **ìƒí™©**: BM25ë§Œìœ¼ë¡œëŠ” ì˜ë¯¸ì  ìœ ì‚¬ ì§ˆë¬¸ ì²˜ë¦¬ í•œê³„ ì¡´ì¬, Dense Vector ì¶”ê°€ ê²€í†  í•„ìš”
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ **OpenAI Embedding**: í† í°ë‹¹ ê³¼ê¸ˆ ëª¨ë¸ ($0.00002/1K), ë³„ë„ API í‚¤ í•„ìš”
> - âŒ **ë¡œì»¬ ëª¨ë¸ (multilingual-E5)**: ì„œë²„ ë¦¬ì†ŒìŠ¤ ë° ê´€ë¦¬ ë³µì¡ë„ ì¦ê°€
> - âœ… **Google Gemini Embedding**: ì™„ì „ ë¬´ë£Œ (1,000 RPD), ê¸°ì¡´ Gemini API í†µí•© ìš©ì´
> 
> **ê²°ì • ê·¼ê±°**: ë¹„ìš© íš¨ìœ¨ì„±ê³¼ ê¸°ìˆ ì  í†µí•©ì„±ì„ ìš°ì„  ê³ ë ¤, MTEB ë‹¤êµ­ì–´ ë²¤ì¹˜ë§ˆí¬ ìƒìœ„ ì„±ëŠ¥
> 
> **ì˜ˆìƒ íš¨ê³¼**: BM25(í‚¤ì›Œë“œ) + Embedding(ì˜ë¯¸) í•˜ì´ë¸Œë¦¬ë“œë¡œ ê²€ìƒ‰ ì •í™•ë„ 30-50% í–¥ìƒ

### ğŸ“š ìƒˆë¡œ í•™ìŠµí•œ ë‚´ìš©

#### BM25 ì•Œê³ ë¦¬ì¦˜ ë‚´ë¶€ ë™ì‘ ì›ë¦¬
- **í•™ìŠµ ê³„ê¸°**: TF-IDFì˜ í•œê³„ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ëŒ€ì•ˆ ê²€ìƒ‰ í•„ìš”
- **í•µì‹¬ ê°œë…**: 
  - ë¬¸ì„œ ê¸¸ì´ ì •ê·œí™” (avgdl ê¸°ë°˜)
  - ìš©ì–´ ë¹ˆë„ í¬í™”ì  (k1 íŒŒë¼ë¯¸í„°)
  - IDF ê°€ì¤‘ì¹˜ ìµœì í™”
- **ì‹¤ì œ ì ìš©**: BM25Okapi êµ¬í˜„ìœ¼ë¡œ ê²€ìƒ‰ í’ˆì§ˆ í–¥ìƒ, ìŠ¤ì½”ì–´ ì •ê·œí™” (0-1) ì ìš©
- **ì„±ì¥ ì§€í‘œ**: ì •ë³´ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ì´í•´ë„ ìƒìŠ¹, ë‹¤êµ­ì–´ ê²€ìƒ‰ ì‹œìŠ¤í…œ ì„¤ê³„ ì—­ëŸ‰ í™•ë³´

#### í•œêµ­ì–´ NLP ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
- **í•™ìŠµ ê³„ê¸°**: í•œêµ­ì–´ í…ìŠ¤íŠ¸ì˜ íŠ¹ìˆ˜ì„±ì„ ê³ ë ¤í•œ ê²€ìƒ‰ ì„±ëŠ¥ ìµœì í™” í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - í˜•íƒœì†Œ ë¶„ì„ê³¼ í’ˆì‚¬ íƒœê¹…
  - HTML/íŠ¹ìˆ˜ë¬¸ì ì •ê·œí™”
  - ì˜ë¯¸ìˆëŠ” í† í° í•„í„°ë§ ì „ëµ
- **ì‹¤ì œ ì ìš©**: KoNLPy ê¸°ë°˜ í† í°í™” íŒŒì´í”„ë¼ì¸ êµ¬ì¶•, í’ˆì‚¬ë³„ ê°€ì¤‘ì¹˜ ì ìš©
- **ì„±ì¥ ì§€í‘œ**: í•œêµ­ì–´ í…ìŠ¤íŠ¸ ì²˜ë¦¬ ëŠ¥ë ¥ íšë“, ë‹¤êµ­ì–´ ì‹œìŠ¤í…œ ì„¤ê³„ ê²½í—˜

#### ë¬´ë£Œ API ê¸°ë°˜ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì•„í‚¤í…ì²˜ ì„¤ê³„
- **í•™ìŠµ ê³„ê¸°**: BM25 í•œê³„ í•´ê²°ì„ ìœ„í•œ Dense Vector í†µí•©, ë¹„ìš© íš¨ìœ¨ì ì¸ API ëª¨ë¸ ì¡°ì‚¬ í•„ìš”
- **í•µì‹¬ ê°œë…**:
  - API ê¸°ë°˜ ì„ë² ë”© ëª¨ë¸ì˜ ë¹„ìš© êµ¬ì¡° ë¶„ì„
  - Sparse(BM25) + Dense(Embedding) í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì´ë¡ 
  - ë¬´ë£Œ í‹°ì–´ í•œë„ ë‚´ì—ì„œì˜ ì‹œìŠ¤í…œ ì„¤ê³„ ì „ëµ
- **ì‹¤ì œ ì ìš©**: Gemini Embedding API ì±„íƒ ê²°ì •, 0.7:0.3 ê°€ì¤‘ì¹˜ í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜ ì„¤ê³„
- **ì„±ì¥ ì§€í‘œ**: ë¹„ìš©-ì„±ëŠ¥ íŠ¸ë ˆì´ë“œì˜¤í”„ ë¶„ì„ ëŠ¥ë ¥, API ê¸°ë°˜ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì—­ëŸ‰ í–¥ìƒ

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
docs/ai/decisions/vectorization-strategy.md - RAG ë²¡í„°í™” ì „ëµ ë° ê³ ì„íŒ©íŠ¸ ì˜ì‚¬ê²°ì • ë¬¸ì„œ
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
ai-service/requirements-local.txt - BM25, KoNLPy ì˜ì¡´ì„± ì¶”ê°€
ai-service/src/adapters/secondary/vector/memory_vector_adapter.py - TF-IDF â†’ BM25 ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
docs/ai/conversation_log.md - Session 11 ì§„í–‰ì‚¬í•­ ê¸°ë¡
```

### ğŸ”— ê´€ë ¨ ê²°ì • ë¬¸ì„œ
- [RAG ì‹œìŠ¤í…œ ë²¡í„°í™” ì „ëµ](decisions/vectorization-strategy.md) - í–¥í›„ ê³ ì„íŒ©íŠ¸ ì˜ì‚¬ê²°ì • ì‚¬í•­ë“¤

---

## Session 1: [ì„¸ì…˜ ì œëª©] (YYYY-MM-DD)

### ğŸ“‹ ì„¸ì…˜ ê°œìš”
- **ë‚ ì§œ**: YYYY-MM-DD
- **ì£¼ìš” ëª©í‘œ**: [ì´ë²ˆ ì„¸ì…˜ì˜ í•µì‹¬ ëª©í‘œ]
- **ì°¸ì—¬ì**: [ê°œë°œì, Claude Code AI ì—ì´ì „íŠ¸]
- **ì†Œìš” ì‹œê°„**: [ëŒ€ëµì ì¸ ì‘ì—… ì‹œê°„]

### ğŸ¯ ë‹¬ì„±í•œ ì£¼ìš” ì„±ê³¼

#### 1. [ì„±ê³¼ ì œëª©]
- **ë‚´ìš©**: [êµ¬ì²´ì ìœ¼ë¡œ ë¬´ì—‡ì„ ë‹¬ì„±í–ˆëŠ”ì§€]
- **ê¸°ìˆ ì  ê°€ì¹˜**: [ì´ê²ƒì´ ì™œ ì¤‘ìš”í•œì§€, ì–´ë–¤ ê¸°ìˆ ì  ì˜ë¯¸ì¸ì§€]
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: [ìˆ˜ì¹˜, ê°œì„  íš¨ê³¼ ë“±]

#### 2. [ì„±ê³¼ ì œëª©]
- **ë‚´ìš©**: [êµ¬ì²´ì ìœ¼ë¡œ ë¬´ì—‡ì„ ë‹¬ì„±í–ˆëŠ”ì§€]
- **ê¸°ìˆ ì  ê°€ì¹˜**: [ì´ê²ƒì´ ì™œ ì¤‘ìš”í•œì§€, ì–´ë–¤ ê¸°ìˆ ì  ì˜ë¯¸ì¸ì§€]
- **ì¸¡ì • ê°€ëŠ¥í•œ ê²°ê³¼**: [ìˆ˜ì¹˜, ê°œì„  íš¨ê³¼ ë“±]

### ğŸ”§ ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

#### [ê²°ì • ì œëª©]
> **ìƒí™©**: [ì–´ë–¤ ìƒí™©ì—ì„œ ê²°ì •ì´ í•„ìš”í–ˆëŠ”ì§€]
> 
> **ê³ ë ¤í•œ ì˜µì…˜ë“¤**:
> - âŒ [ì˜µì…˜ 1]: [ì œì™¸ ì´ìœ ]
> - âŒ [ì˜µì…˜ 2]: [ì œì™¸ ì´ìœ ]
> - âœ… **[ì„ íƒí•œ ì˜µì…˜]**: [ì„ íƒ ì´ìœ ]
> 
> **ê²°ì • ê·¼ê±°**: [í•µì‹¬ íŒë‹¨ ê¸°ì¤€ê³¼ ë…¼ë¦¬]
> 
> **ì˜ˆìƒ íš¨ê³¼**: [ì´ ê²°ì •ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ìµ]

### ğŸ› í•´ê²°í•œ ì£¼ìš” ë¬¸ì œ

#### [ë¬¸ì œ ì œëª©]
- **ë¬¸ì œ ìƒí™©**: [ë°œìƒí•œ ë¬¸ì œì˜ êµ¬ì²´ì  ì„¤ëª…]
- **ì›ì¸ ë¶„ì„**: [ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸]
- **í•´ê²° ê³¼ì •**: 
  1. [ì‹œë„í•œ ë°©ë²• 1] â†’ [ê²°ê³¼]
  2. [ì‹œë„í•œ ë°©ë²• 2] â†’ [ê²°ê³¼]
  3. [ìµœì¢… í•´ê²° ë°©ë²•] â†’ âœ… **ì„±ê³µ**
- **ê°œì„  íš¨ê³¼**: [Before/After ìˆ˜ì¹˜ ë˜ëŠ” ìƒíƒœ]
- **ë°°ìš´ ì **: [ì´ ë¬¸ì œë¥¼ í†µí•´ ì–»ì€ ì¸ì‚¬ì´íŠ¸]

### ğŸ“š ìƒˆë¡œ í•™ìŠµí•œ ë‚´ìš©

#### [í•™ìŠµ ì£¼ì œ]
- **í•™ìŠµ ê³„ê¸°**: [ì™œ ì´ê²ƒì„ ë°°ìš°ê²Œ ë˜ì—ˆëŠ”ì§€]
- **í•µì‹¬ ê°œë…**: [ë°°ìš´ ë‚´ìš©ì˜ í•µì‹¬ 3ê°€ì§€]
- **ì‹¤ì œ ì ìš©**: [í”„ë¡œì íŠ¸ì— ì–´ë–»ê²Œ ì ìš©í–ˆëŠ”ì§€]
- **ì„±ì¥ ì§€í‘œ**: [í•™ìŠµ ì „í›„ ëŠ¥ë ¥ ë³€í™”]

### âš¡ ì„±ëŠ¥ ê°œì„  ì‚¬í•­

#### [ìµœì í™” ì˜ì—­]
| ì§€í‘œ | Before | After | ê°œì„ ìœ¨ |
|------|--------|-------|--------|
| [ì§€í‘œ1] | [ì´ì „ ê°’] | [ê°œì„  ê°’] | [%] |
| [ì§€í‘œ2] | [ì´ì „ ê°’] | [ê°œì„  ê°’] | [%] |

- **ìµœì í™” ë°©ë²•**: [ì–´ë–¤ ê¸°ë²•ì„ ì ìš©í–ˆëŠ”ì§€]
- **ê²€ì¦ ë°©ë²•**: [ì„±ëŠ¥ ì¸¡ì • ë„êµ¬ë‚˜ ë°©ë²•]

### ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ë“¤

#### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
path/to/new/file1.ext - [íŒŒì¼ ëª©ì ê³¼ í•µì‹¬ ê¸°ëŠ¥]
path/to/new/file2.ext - [íŒŒì¼ ëª©ì ê³¼ í•µì‹¬ ê¸°ëŠ¥]
```

#### ì£¼ìš” ìˆ˜ì •ëœ íŒŒì¼
```
path/to/modified/file1.ext - [ìˆ˜ì • ë‚´ìš©ê³¼ ì´ìœ ]
path/to/modified/file2.ext - [ìˆ˜ì • ë‚´ìš©ê³¼ ì´ìœ ]
```

### ğŸ¯ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì ì—ì„œì˜ ê°€ì¹˜

#### ê¸°ìˆ ì  ê¹Šì´ ì¦ëª…
- [ì´ë²ˆ ì„¸ì…˜ì—ì„œ ë³´ì—¬ì¤€ ê¸°ìˆ ì  ì—­ëŸ‰]
- [ë³µì¡í•œ ë¬¸ì œë¥¼ í•´ê²°í•œ ëŠ¥ë ¥]
- [ìµœì‹  ê¸°ìˆ /íŒ¨í„´ ì ìš© ëŠ¥ë ¥]

#### ë¬¸ì œí•´ê²° ëŠ¥ë ¥
- [ì²´ê³„ì  ë¬¸ì œ ë¶„ì„ ê³¼ì •]
- [ë‹¤ì–‘í•œ í•´ê²° ë°©ë²• ì‹œë„]
- [ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •]

#### ì§€ì†ì  í•™ìŠµ ì˜ì§€
- [ìƒˆë¡œìš´ ê¸°ìˆ  ìŠµë“ ê³¼ì •]
- [ì‹¤íŒ¨ì™€ ì‹œí–‰ì°©ì˜¤ì—ì„œì˜ í•™ìŠµ]
- [ê°œì„ ì— ëŒ€í•œ ì§€ì†ì  ê´€ì‹¬]

### ğŸ”„ ë‹¤ìŒ ì„¸ì…˜ ê³„íš (Session 12)

#### ìš°ì„ ìˆœìœ„ ì‘ì—… (Phase 2 - í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ êµ¬í˜„)
1. **Gemini Embedding API í†µí•©** - ai-serviceì— ì„ë² ë”© API í˜¸ì¶œ ëª¨ë“ˆ êµ¬í˜„
2. **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ë¡œì§ êµ¬í˜„** - BM25(0.7) + Embedding(0.3) ê²°í•© ì•Œê³ ë¦¬ì¦˜ 
3. **ë©”íƒ€ë°ì´í„° êµ¬ì¡° í™•ì¥** - document_type, project_id, valid_from_date í•„ë“œ ì¶”ê°€

#### í•´ê²°í•´ì•¼ í•  ê³¼ì œ
- **ì„ë² ë”© ìºì‹œ ì‹œìŠ¤í…œ**: API ë¹„ìš© ì ˆì•½ì„ ìœ„í•œ Redis ê¸°ë°˜ ì„ë² ë”© ìºì‹œ êµ¬í˜„
- **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹**: BM25 ë‹¨ë… vs í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì„±ëŠ¥ A/B í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•
- **ë©”íƒ€ë°ì´í„° ìë™ ì¶”ì¶œ**: knowledge-base ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì—ì„œ ë©”íƒ€ë°ì´í„° ìë™ íŒŒì‹±

#### í•™ìŠµ ëª©í‘œ
- **Google Gemini Embedding API**: ë°°ì¹˜ ì²˜ë¦¬, ì••ì¶•, ì˜¤ë¥˜ ì²˜ë¦¬ ìµœì í™” ê¸°ë²•
- **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ê°€ì¤‘ì¹˜ íŠœë‹**: ë„ë©”ì¸ë³„ ìµœì  ê°€ì¤‘ì¹˜ ë¹„ìœ¨ ì‹¤í—˜ì  ë„ì¶œ
- **Redis ê³ ê¸‰ ìºì‹± íŒ¨í„´**: ì••ì¶•, TTL ê´€ë¦¬, ì„ íƒì  ë¬´íš¨í™” ì „ëµ

---

### ğŸ“ í…œí”Œë¦¿ ì‚¬ìš© ê°€ì´ë“œ

#### ì‘ì„± ì‹œì 
- AI ì—ì´ì „íŠ¸ì™€ì˜ ì¤‘ìš”í•œ ê¸°ìˆ ì  ëŒ€í™” ì™„ë£Œ ì§í›„
- ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„ì´ë‚˜ ë¬¸ì œ í•´ê²° ì™„ë£Œ í›„
- ìƒˆë¡œìš´ ê¸°ìˆ  í•™ìŠµì´ë‚˜ ì•„í‚¤í…ì²˜ ê²°ì • í›„

#### ì„¸ì…˜ ìˆœì„œ
- **ìµœì‹  ì„¸ì…˜ì´ íŒŒì¼ ìƒë‹¨ì— ìœ„ì¹˜**í•˜ë„ë¡ ì‘ì„± (Session Nì´ ìœ„ì—, Session 1ì´ ì•„ë˜)
- ê° ì„¸ì…˜ì€ `---` êµ¬ë¶„ì„ ìœ¼ë¡œ ë¶„ë¦¬
- ë°±ì—…ëœ ê¸°ì¡´ ë¡œê·¸ëŠ” `docs/ai/backup/`ì— ë³´ê´€

#### ê¸°ë¡í•  ê°€ì¹˜ê°€ ìˆëŠ” ë‚´ìš©
- **ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •**: ì™œ ê·¸ ì„ íƒì„ í–ˆëŠ”ì§€ ê·¼ê±°
- **ë¬¸ì œí•´ê²° ê³¼ì •**: ì²´ê³„ì  ì ‘ê·¼ë²•ê³¼ ê²°ê³¼
- **ì„±ëŠ¥ ê°œì„ **: Before/After ìˆ˜ì¹˜ê°€ ìˆëŠ” ìµœì í™”
- **ìƒˆë¡œìš´ í•™ìŠµ**: ê¸°ì¡´ ì§€ì‹ì—ì„œ í™•ì¥ëœ ë¶€ë¶„
- **ì‹¤íŒ¨ì™€ êµí›ˆ**: ì‹œí–‰ì°©ì˜¤ì—ì„œ ì–»ì€ ì¸ì‚¬ì´íŠ¸

#### í¬íŠ¸í´ë¦¬ì˜¤ í™œìš© íŒ
- ë©´ì ‘ì—ì„œ **"êµ¬ì²´ì  ì‚¬ë¡€"** ì§ˆë¬¸ì— ë°”ë¡œ í™œìš© ê°€ëŠ¥
- ê¸°ìˆ ì  ì—­ëŸ‰ì„ **ì •ëŸ‰ì  ì§€í‘œ**ë¡œ ì¦ëª…
- ë¬¸ì œí•´ê²° **ì‚¬ê³  ê³¼ì •**ì„ ì²´ê³„ì ìœ¼ë¡œ ë³´ì—¬ì¤Œ
- ì§€ì†ì  ì„±ì¥ê³¼ í•™ìŠµ **ì˜ì§€** ì…ì¦