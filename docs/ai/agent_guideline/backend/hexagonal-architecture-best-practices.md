# í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê°€ì´ë“œ

## ğŸ“š ëª©ì°¨
1. [í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ê°œìš”](#í—¥ì‚¬ê³ ë‚ -ì•„í‚¤í…ì²˜-ê°œìš”)
2. [ê³„ì¸µë³„ ì—­í•  ë° ì±…ì„](#ê³„ì¸µë³„-ì—­í• -ë°-ì±…ì„)
3. [í¬íŠ¸ì™€ ì–´ëŒ‘í„° íŒ¨í„´](#í¬íŠ¸ì™€-ì–´ëŒ‘í„°-íŒ¨í„´)
4. [ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ](#ì‹¤ì œ-êµ¬í˜„-ì˜ˆì‹œ)
5. [ì•ˆí‹°íŒ¨í„´ ë° ê°œì„  ë°©ì•ˆ](#ì•ˆí‹°íŒ¨í„´-ë°-ê°œì„ -ë°©ì•ˆ)
6. [ë¦¬íŒ©í† ë§ ê°€ì´ë“œ](#ë¦¬íŒ©í† ë§-ê°€ì´ë“œ)
7. [ì²´í¬ë¦¬ìŠ¤íŠ¸](#ì²´í¬ë¦¬ìŠ¤íŠ¸)

---

## í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ê°œìš”

### í•µì‹¬ ì›ì¹™
1. **ì˜ì¡´ì„± ì—­ì „**: ë„ë©”ì¸ ê³„ì¸µì´ ì™¸ë¶€ ê³„ì¸µì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
2. **í¬íŠ¸ì™€ ì–´ëŒ‘í„°**: ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ëŠìŠ¨í•œ ê²°í•©
3. **ê³„ì¸µ ë¶„ë¦¬**: ê° ê³„ì¸µì˜ ëª…í™•í•œ ì±…ì„ê³¼ ê²½ê³„
4. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: í¬íŠ¸ë¥¼ í†µí•œ ëª¨í‚¹ ê°€ëŠ¥

### ê³„ì¸µ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Infrastructure            â”‚ â† ì™¸ë¶€ ì„¸ê³„ì™€ì˜ ì—°ê²°
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Web       â”‚ â”‚  Database   â”‚   â”‚
â”‚  â”‚ Adapters    â”‚ â”‚ Adapters    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†• (Ports)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Application                â”‚ â† Use Case êµ¬í˜„
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Services  â”‚ â”‚   Use      â”‚   â”‚
â”‚  â”‚             â”‚ â”‚   Cases    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†• (Ports)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Domain                   â”‚ â† ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Models    â”‚ â”‚   Ports    â”‚   â”‚
â”‚  â”‚   & VO      â”‚ â”‚            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ê³„ì¸µë³„ ì—­í•  ë° ì±…ì„

### 1ï¸âƒ£ Domain Layer (ë„ë©”ì¸ ê³„ì¸µ)

**ì—­í• **: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ê·œì¹™ì˜ í•µì‹¬

#### í¬í•¨ ìš”ì†Œ
- **Entity**: ë¹„ì¦ˆë‹ˆìŠ¤ ì—”í‹°í‹°
- **Value Object**: ë¶ˆë³€ ê°’ ê°ì²´
- **Domain Service**: ë„ë©”ì¸ ë¡œì§
- **Port Interface**: ì™¸ë¶€ì™€ì˜ ê³„ì•½
- **Domain Exception**: ë„ë©”ì¸ ì˜ˆì™¸

#### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
domain/
â”œâ”€â”€ {bounded-context}/
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ {Entity}.java
â”‚   â”‚   â”œâ”€â”€ vo/                    // Value Objects
â”‚   â”‚   â”‚   â”œâ”€â”€ {ValueObject}.java
â”‚   â”‚   â”‚   â””â”€â”€ {Criteria}.java
â”‚   â”‚   â””â”€â”€ exception/
â”‚   â”‚       â””â”€â”€ {DomainException}.java
â”‚   â”œâ”€â”€ service/                   // Domain Services
â”‚   â”‚   â””â”€â”€ {DomainService}.java
â”‚   â”œâ”€â”€ port/
â”‚   â”‚   â”œâ”€â”€ in/                    // Inbound Ports (Use Cases)
â”‚   â”‚   â”‚   â”œâ”€â”€ {UseCase}.java
â”‚   â”‚   â”‚   â””â”€â”€ {QueryUseCase}.java
â”‚   â”‚   â””â”€â”€ out/                   // Outbound Ports (Repositories)
â”‚   â”‚       â”œâ”€â”€ {RepositoryPort}.java
â”‚   â”‚       â””â”€â”€ {ExternalServicePort}.java
â”‚   â””â”€â”€ dto/                       // Domain DTOs
â”‚       â”œâ”€â”€ request/
â”‚       â”‚   â””â”€â”€ {RequestDto}.java
â”‚       â””â”€â”€ response/
â”‚           â””â”€â”€ {ResponseDto}.java
```

#### ì˜ˆì‹œ
```java
// domain/project/model/Project.java
@Entity
public class Project {
    private ProjectId id;
    private ProjectTitle title;
    private ProjectDescription description;
    private ProjectStatus status;
    private TechStack techStack;
    
    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    public void updateTitle(ProjectTitle newTitle) {
        if (newTitle.isBlank()) {
            throw new InvalidProjectTitleException("ì œëª©ì€ ë¹„ì–´ìˆì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }
        this.title = newTitle;
    }
    
    public boolean isCompleted() {
        return status == ProjectStatus.COMPLETED;
    }
}

// domain/project/model/vo/ProjectFilter.java
@Value
public class ProjectFilter {
    String searchQuery;
    ProjectType type;
    ProjectStatus status;
    List<String> technologies;
    SortCriteria sortCriteria;
    
    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨
    public boolean matches(Project project) {
        return matchesSearch(project) &&
               matchesType(project) &&
               matchesStatus(project) &&
               matchesTechnologies(project);
    }
    
    public Comparator<Project> getComparator() {
        return sortCriteria.getComparator();
    }
}

// domain/project/port/in/ManageProjectUseCase.java
public interface ManageProjectUseCase {
    ProjectResponse createProject(CreateProjectRequest request);
    ProjectResponse updateProject(ProjectId id, UpdateProjectRequest request);
    void deleteProject(ProjectId id);
}

// domain/project/port/out/ProjectRepositoryPort.java
public interface ProjectRepositoryPort {
    Project save(Project project);
    Optional<Project> findById(ProjectId id);
    List<Project> findByFilter(ProjectFilter filter);
    void delete(ProjectId id);
}
```

### 2ï¸âƒ£ Application Layer (ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ)

**ì—­í• **: Use Case êµ¬í˜„ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤

#### í¬í•¨ ìš”ì†Œ
- **Use Case Implementation**: í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- **Application Service**: íŠ¸ëœì­ì…˜ ê´€ë¦¬, ë„ë©”ì¸ ì¡°í•©
- **DTO Mapping**: ë„ë©”ì¸ â†” ì™¸ë¶€ DTO ë³€í™˜

#### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
application/
â”œâ”€â”€ {bounded-context}/
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ {UseCase}Service.java
â”‚   â”‚   â””â”€â”€ {QueryUseCase}Service.java
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â””â”€â”€ {Entity}Mapper.java
â”‚   â””â”€â”€ dto/
â”‚       â”œâ”€â”€ request/
â”‚       â””â”€â”€ response/
```

#### ì˜ˆì‹œ
```java
// application/project/service/ProjectManagementService.java
@Service
@Transactional
@RequiredArgsConstructor
public class ProjectManagementService implements ManageProjectUseCase {
    
    private final ProjectRepositoryPort projectRepositoryPort;
    private final ProjectMapper projectMapper;
    
    @Override
    public ProjectResponse createProject(CreateProjectRequest request) {
        // ë„ë©”ì¸ ê°ì²´ ìƒì„±
        Project project = Project.builder()
            .title(ProjectTitle.of(request.getTitle()))
            .description(ProjectDescription.of(request.getDescription()))
            .status(ProjectStatus.DRAFT)
            .build();
        
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
        project.validateForCreation();
        
        // ì €ì¥
        Project savedProject = projectRepositoryPort.save(project);
        
        // ì‘ë‹µ ë³€í™˜
        return projectMapper.toResponse(savedProject);
    }
    
    @Override
    public ProjectResponse updateProject(ProjectId id, UpdateProjectRequest request) {
        Project project = projectRepositoryPort.findById(id)
            .orElseThrow(() -> new ProjectNotFoundException(id));
        
        // ë„ë©”ì¸ ë¡œì§ ì‹¤í–‰
        project.updateTitle(ProjectTitle.of(request.getTitle()));
        project.updateDescription(ProjectDescription.of(request.getDescription()));
        
        Project updatedProject = projectRepositoryPort.save(project);
        return projectMapper.toResponse(updatedProject);
    }
}
```

### 3ï¸âƒ£ Infrastructure Layer (ì¸í”„ë¼ ê³„ì¸µ)

**ì—­í• **: ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ ì—°ê²° ë° ê¸°ìˆ ì  êµ¬í˜„

#### í¬í•¨ ìš”ì†Œ
- **Web Adapters**: REST API, GraphQL ë“±
- **Database Adapters**: JPA, MyBatis ë“±
- **External Service Adapters**: ì™¸ë¶€ API ì—°ë™
- **Configuration**: ì„¤ì • ë° ë¹ˆ êµ¬ì„±

#### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
infrastructure/
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ {Entity}Controller.java
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ {WebDto}.java
â”‚   â””â”€â”€ config/
â”‚       â””â”€â”€ WebConfig.java
â”œâ”€â”€ persistence/
â”‚   â”œâ”€â”€ {database}/
â”‚   â”‚   â”œâ”€â”€ adapter/
â”‚   â”‚   â”‚   â””â”€â”€ {Database}{Entity}Repository.java
â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚   â””â”€â”€ {Entity}JpaEntity.java
â”‚   â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â”‚   â””â”€â”€ {Entity}Mapper.java
â”‚   â”‚   â””â”€â”€ repository/
â”‚   â”‚       â””â”€â”€ {Entity}JpaRepository.java
â”‚   â””â”€â”€ config/
â”‚       â””â”€â”€ PersistenceConfig.java
â”œâ”€â”€ external/
â”‚   â”œâ”€â”€ {service}/
â”‚   â”‚   â”œâ”€â”€ adapter/
â”‚   â”‚   â”‚   â””â”€â”€ {Service}Adapter.java
â”‚   â”‚   â””â”€â”€ config/
â”‚   â”‚       â””â”€â”€ {Service}Config.java
â””â”€â”€ config/
    â””â”€â”€ InfrastructureConfig.java
```

#### ì˜ˆì‹œ
```java
// infrastructure/web/controller/ProjectController.java
@RestController
@RequestMapping("/api/projects")
@RequiredArgsConstructor
public class ProjectController {
    
    private final ManageProjectUseCase manageProjectUseCase;
    private final SearchProjectsUseCase searchProjectsUseCase;
    
    @PostMapping
    public ResponseEntity<ProjectResponse> createProject(
            @Valid @RequestBody CreateProjectRequest request) {
        ProjectResponse response = manageProjectUseCase.createProject(request);
        return ResponseEntity.ok(response);
    }
    
    @GetMapping
    public ResponseEntity<List<ProjectResponse>> searchProjects(
            @ModelAttribute ProjectFilterRequest filterRequest) {
        ProjectFilter filter = ProjectFilter.from(filterRequest);
        List<ProjectResponse> projects = searchProjectsUseCase.searchProjects(filter);
        return ResponseEntity.ok(projects);
    }
}

// infrastructure/persistence/postgres/adapter/PostgresProjectRepository.java
@Repository
@RequiredArgsConstructor
public class PostgresProjectRepository implements ProjectRepositoryPort {
    
    private final ProjectJpaRepository jpaRepository;
    private final ProjectMapper mapper;
    
    @Override
    public Project save(Project project) {
        ProjectJpaEntity entity = mapper.toEntity(project);
        ProjectJpaEntity savedEntity = jpaRepository.save(entity);
        return mapper.toDomain(savedEntity);
    }
    
    @Override
    public Optional<Project> findById(ProjectId id) {
        return jpaRepository.findById(id.getValue())
            .map(mapper::toDomain);
    }
    
    @Override
    public List<Project> findByFilter(ProjectFilter filter) {
        List<ProjectJpaEntity> entities = jpaRepository.findAll();
        return entities.stream()
            .map(mapper::toDomain)
            .filter(filter::matches)
            .sorted(filter.getComparator())
            .collect(Collectors.toList());
    }
}
```

---

## í¬íŠ¸ì™€ ì–´ëŒ‘í„° íŒ¨í„´

### í¬íŠ¸ (Port) ì •ì˜

í¬íŠ¸ëŠ” ë„ë©”ì¸ê³¼ ì™¸ë¶€ ì„¸ê³„ ì‚¬ì´ì˜ ê³„ì•½ì„ ì •ì˜í•©ë‹ˆë‹¤.

#### Inbound Port (ë“¤ì–´ì˜¤ëŠ” í¬íŠ¸)
```java
// ë„ë©”ì¸ì—ì„œ ì •ì˜í•˜ëŠ” Use Case ì¸í„°í˜ì´ìŠ¤
public interface ManageProjectUseCase {
    ProjectResponse createProject(CreateProjectRequest request);
    ProjectResponse updateProject(ProjectId id, UpdateProjectRequest request);
    void deleteProject(ProjectId id);
}
```

#### Outbound Port (ë‚˜ê°€ëŠ” í¬íŠ¸)
```java
// ë„ë©”ì¸ì—ì„œ ì •ì˜í•˜ëŠ” Repository ì¸í„°í˜ì´ìŠ¤
public interface ProjectRepositoryPort {
    Project save(Project project);
    Optional<Project> findById(ProjectId id);
    List<Project> findByFilter(ProjectFilter filter);
    void delete(ProjectId id);
}
```

### ì–´ëŒ‘í„° (Adapter) êµ¬í˜„

ì–´ëŒ‘í„°ëŠ” í¬íŠ¸ë¥¼ êµ¬í˜„í•˜ì—¬ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ê²°í•©ë‹ˆë‹¤.

#### Primary Adapter (ì£¼ ì–´ëŒ‘í„°)
```java
// ì›¹ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ Use Caseë¥¼ í˜¸ì¶œ
@RestController
public class ProjectController {
    private final ManageProjectUseCase manageProjectUseCase; // Inbound Port
    
    @PostMapping
    public ResponseEntity<ProjectResponse> createProject(@RequestBody CreateProjectRequest request) {
        ProjectResponse response = manageProjectUseCase.createProject(request);
        return ResponseEntity.ok(response);
    }
}
```

#### Secondary Adapter (ë³´ì¡° ì–´ëŒ‘í„°)
```java
// Repository êµ¬í˜„ì²´ê°€ Outbound Portë¥¼ êµ¬í˜„
@Repository
public class PostgresProjectRepository implements ProjectRepositoryPort {
    private final ProjectJpaRepository jpaRepository;
    
    @Override
    public Project save(Project project) {
        // JPA êµ¬í˜„
    }
}
```

---

## ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ

### ì™„ì „í•œ ì˜ˆì‹œ: í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ

#### 1. Domain Layer

```java
// domain/project/model/Project.java
@Entity
public class Project {
    private ProjectId id;
    private ProjectTitle title;
    private ProjectDescription description;
    private ProjectStatus status;
    private TechStack techStack;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
    
    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    public void updateTitle(ProjectTitle newTitle) {
        if (newTitle.isBlank()) {
            throw new InvalidProjectTitleException("ì œëª©ì€ ë¹„ì–´ìˆì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }
        this.title = newTitle;
        this.updatedAt = LocalDateTime.now();
    }
    
    public void markAsCompleted() {
        if (this.status == ProjectStatus.COMPLETED) {
            throw new ProjectAlreadyCompletedException("ì´ë¯¸ ì™„ë£Œëœ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤");
        }
        this.status = ProjectStatus.COMPLETED;
        this.updatedAt = LocalDateTime.now();
    }
    
    public boolean isCompleted() {
        return status == ProjectStatus.COMPLETED;
    }
    
    public boolean matchesSearch(String searchQuery) {
        if (searchQuery == null || searchQuery.isBlank()) {
            return true;
        }
        String query = searchQuery.toLowerCase();
        return title.getValue().toLowerCase().contains(query) ||
               description.getValue().toLowerCase().contains(query);
    }
}

// domain/project/model/vo/ProjectFilter.java
@Value
public class ProjectFilter {
    String searchQuery;
    ProjectType type;
    ProjectStatus status;
    List<String> technologies;
    SortCriteria sortCriteria;
    
    public boolean matches(Project project) {
        return matchesSearch(project) &&
               matchesType(project) &&
               matchesStatus(project) &&
               matchesTechnologies(project);
    }
    
    private boolean matchesSearch(Project project) {
        if (searchQuery == null || searchQuery.isBlank()) {
            return true;
        }
        return project.matchesSearch(searchQuery);
    }
    
    private boolean matchesType(Project project) {
        if (type == null) return true;
        return project.getType() == type;
    }
    
    private boolean matchesStatus(Project project) {
        if (status == null) return true;
        return project.getStatus() == status;
    }
    
    private boolean matchesTechnologies(Project project) {
        if (technologies == null || technologies.isEmpty()) {
            return true;
        }
        return project.getTechStack().containsAny(technologies);
    }
    
    public Comparator<Project> getComparator() {
        return sortCriteria.getComparator();
    }
}

// domain/project/port/in/ManageProjectUseCase.java
public interface ManageProjectUseCase {
    ProjectResponse createProject(CreateProjectRequest request);
    ProjectResponse updateProject(ProjectId id, UpdateProjectRequest request);
    void deleteProject(ProjectId id);
}

// domain/project/port/in/SearchProjectsUseCase.java
public interface SearchProjectsUseCase {
    List<ProjectResponse> searchProjects(ProjectFilter filter);
    ProjectResponse getProjectById(ProjectId id);
}

// domain/project/port/out/ProjectRepositoryPort.java
public interface ProjectRepositoryPort {
    Project save(Project project);
    Optional<Project> findById(ProjectId id);
    List<Project> findByFilter(ProjectFilter filter);
    void delete(ProjectId id);
    boolean existsById(ProjectId id);
}
```

#### 2. Application Layer

```java
// application/project/service/ProjectManagementService.java
@Service
@Transactional
@RequiredArgsConstructor
public class ProjectManagementService implements ManageProjectUseCase {
    
    private final ProjectRepositoryPort projectRepositoryPort;
    private final ProjectMapper projectMapper;
    
    @Override
    public ProjectResponse createProject(CreateProjectRequest request) {
        // ë„ë©”ì¸ ê°ì²´ ìƒì„±
        Project project = Project.builder()
            .id(ProjectId.generate())
            .title(ProjectTitle.of(request.getTitle()))
            .description(ProjectDescription.of(request.getDescription()))
            .status(ProjectStatus.DRAFT)
            .techStack(TechStack.of(request.getTechnologies()))
            .createdAt(LocalDateTime.now())
            .build();
        
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
        project.validateForCreation();
        
        // ì €ì¥
        Project savedProject = projectRepositoryPort.save(project);
        
        // ì‘ë‹µ ë³€í™˜
        return projectMapper.toResponse(savedProject);
    }
    
    @Override
    public ProjectResponse updateProject(ProjectId id, UpdateProjectRequest request) {
        Project project = projectRepositoryPort.findById(id)
            .orElseThrow(() -> new ProjectNotFoundException(id));
        
        // ë„ë©”ì¸ ë¡œì§ ì‹¤í–‰
        if (request.getTitle() != null) {
            project.updateTitle(ProjectTitle.of(request.getTitle()));
        }
        if (request.getDescription() != null) {
            project.updateDescription(ProjectDescription.of(request.getDescription()));
        }
        if (request.getStatus() != null) {
            project.updateStatus(ProjectStatus.valueOf(request.getStatus()));
        }
        
        Project updatedProject = projectRepositoryPort.save(project);
        return projectMapper.toResponse(updatedProject);
    }
    
    @Override
    public void deleteProject(ProjectId id) {
        if (!projectRepositoryPort.existsById(id)) {
            throw new ProjectNotFoundException(id);
        }
        projectRepositoryPort.delete(id);
    }
}

// application/project/service/ProjectSearchService.java
@Service
@Transactional(readOnly = true)
@RequiredArgsConstructor
public class ProjectSearchService implements SearchProjectsUseCase {
    
    private final ProjectRepositoryPort projectRepositoryPort;
    private final ProjectMapper projectMapper;
    
    @Override
    public List<ProjectResponse> searchProjects(ProjectFilter filter) {
        List<Project> projects = projectRepositoryPort.findByFilter(filter);
        return projects.stream()
            .map(projectMapper::toResponse)
            .collect(Collectors.toList());
    }
    
    @Override
    public ProjectResponse getProjectById(ProjectId id) {
        Project project = projectRepositoryPort.findById(id)
            .orElseThrow(() -> new ProjectNotFoundException(id));
        return projectMapper.toResponse(project);
    }
}
```

#### 3. Infrastructure Layer

```java
// infrastructure/web/controller/ProjectController.java
@RestController
@RequestMapping("/api/projects")
@RequiredArgsConstructor
@Validated
public class ProjectController {
    
    private final ManageProjectUseCase manageProjectUseCase;
    private final SearchProjectsUseCase searchProjectsUseCase;
    
    @PostMapping
    public ResponseEntity<ProjectResponse> createProject(
            @Valid @RequestBody CreateProjectRequest request) {
        ProjectResponse response = manageProjectUseCase.createProject(request);
        return ResponseEntity.status(HttpStatus.CREATED).body(response);
    }
    
    @GetMapping("/{id}")
    public ResponseEntity<ProjectResponse> getProject(@PathVariable String id) {
        ProjectId projectId = ProjectId.of(id);
        ProjectResponse response = searchProjectsUseCase.getProjectById(projectId);
        return ResponseEntity.ok(response);
    }
    
    @GetMapping
    public ResponseEntity<List<ProjectResponse>> searchProjects(
            @ModelAttribute ProjectFilterRequest filterRequest) {
        ProjectFilter filter = ProjectFilter.from(filterRequest);
        List<ProjectResponse> projects = searchProjectsUseCase.searchProjects(filter);
        return ResponseEntity.ok(projects);
    }
    
    @PutMapping("/{id}")
    public ResponseEntity<ProjectResponse> updateProject(
            @PathVariable String id,
            @Valid @RequestBody UpdateProjectRequest request) {
        ProjectId projectId = ProjectId.of(id);
        ProjectResponse response = manageProjectUseCase.updateProject(projectId, request);
        return ResponseEntity.ok(response);
    }
    
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteProject(@PathVariable String id) {
        ProjectId projectId = ProjectId.of(id);
        manageProjectUseCase.deleteProject(projectId);
        return ResponseEntity.noContent().build();
    }
}

// infrastructure/persistence/postgres/adapter/PostgresProjectRepository.java
@Repository
@RequiredArgsConstructor
public class PostgresProjectRepository implements ProjectRepositoryPort {
    
    private final ProjectJpaRepository jpaRepository;
    private final ProjectMapper mapper;
    
    @Override
    public Project save(Project project) {
        ProjectJpaEntity entity = mapper.toEntity(project);
        ProjectJpaEntity savedEntity = jpaRepository.save(entity);
        return mapper.toDomain(savedEntity);
    }
    
    @Override
    public Optional<Project> findById(ProjectId id) {
        return jpaRepository.findById(id.getValue())
            .map(mapper::toDomain);
    }
    
    @Override
    public List<Project> findByFilter(ProjectFilter filter) {
        List<ProjectJpaEntity> entities = jpaRepository.findAll();
        return entities.stream()
            .map(mapper::toDomain)
            .filter(filter::matches)
            .sorted(filter.getComparator())
            .collect(Collectors.toList());
    }
    
    @Override
    public void delete(ProjectId id) {
        jpaRepository.deleteById(id.getValue());
    }
    
    @Override
    public boolean existsById(ProjectId id) {
        return jpaRepository.existsById(id.getValue());
    }
}
```

---

## ì•ˆí‹°íŒ¨í„´ ë° ê°œì„  ë°©ì•ˆ

### 1ï¸âƒ£ ê³„ì¸µ ìš°íšŒ (Layer Violation)

**ë¬¸ì œì :**
```java
// âŒ Bad: ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µì´ ì¸í”„ë¼ ê³„ì¸µì„ ì§ì ‘ ì˜ì¡´
@Service
public class ProjectService {
    private final ProjectJpaRepository jpaRepository;  // âŒ JPA ì§ì ‘ ì˜ì¡´
    private final ProjectMapper mapper;                 // âŒ ì¸í”„ë¼ ë§¤í¼ ì§ì ‘ ì˜ì¡´
    
    public List<ProjectResponse> getProjects() {
        List<ProjectJpaEntity> entities = jpaRepository.findAll();  // âŒ
        return entities.stream()
            .map(mapper::toResponse)
            .collect(Collectors.toList());
    }
}
```

**ê°œì„  ë°©ì•ˆ:**
```java
// âœ… Good: í¬íŠ¸ë¥¼ í†µí•œ ì˜ì¡´ì„± ì—­ì „
@Service
public class ProjectService implements ManageProjectUseCase {
    private final ProjectRepositoryPort repositoryPort;  // âœ… í¬íŠ¸ì—ë§Œ ì˜ì¡´
    
    @Override
    public List<ProjectResponse> getProjects() {
        List<Project> projects = repositoryPort.findAll();
        return projects.stream()
            .map(ProjectResponse::from)
            .collect(Collectors.toList());
    }
}
```

### 2ï¸âƒ£ DTO ìœ„ì¹˜ ë¬¸ì œ

**ë¬¸ì œì :**
```
âŒ í˜„ì¬ êµ¬ì¡°
infrastructure/web/dto/
â”œâ”€â”€ ProjectCreateRequest.java    // ë„ë©”ì¸ DTOê°€ ì¸í”„ë¼ì— ìœ„ì¹˜
â”œâ”€â”€ ProjectUpdateRequest.java
â””â”€â”€ ProjectResponse.java
```

**ê°œì„  ë°©ì•ˆ:**
```
âœ… ê°œì„ ëœ êµ¬ì¡°
domain/project/dto/
â”œâ”€â”€ request/
â”‚   â”œâ”€â”€ CreateProjectRequest.java    // ë„ë©”ì¸ ê³„ì¸µìœ¼ë¡œ ì´ë™
â”‚   â””â”€â”€ UpdateProjectRequest.java
â””â”€â”€ response/
    â””â”€â”€ ProjectResponse.java

infrastructure/web/dto/
â””â”€â”€ ProjectWebRequest.java          // ì›¹ ê³„ì¸µ ì „ìš© DTOë§Œ
```

### 3ï¸âƒ£ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ì‚°

**ë¬¸ì œì :**
```java
// âŒ Bad: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì„œë¹„ìŠ¤ì— ì§ì ‘ êµ¬í˜„
@Service
public class ProjectService {
    public List<ProjectResponse> searchProjects(ProjectFilter filter) {
        List<Project> projects = repositoryPort.findAll();
        
        // í•„í„°ë§ ë¡œì§ì´ ì„œë¹„ìŠ¤ì— ì§ì ‘ êµ¬í˜„ âŒ
        List<Project> filtered = projects.stream()
            .filter(p -> p.getTitle().contains(filter.getSearchQuery()))
            .filter(p -> p.getStatus() == filter.getStatus())
            .collect(Collectors.toList());
            
        // ì •ë ¬ ë¡œì§ë„ ì„œë¹„ìŠ¤ì— ì§ì ‘ êµ¬í˜„ âŒ
        filtered.sort((p1, p2) -> p1.getTitle().compareTo(p2.getTitle()));
        
        return filtered.stream()
            .map(ProjectResponse::from)
            .collect(Collectors.toList());
    }
}
```

**ê°œì„  ë°©ì•ˆ:**
```java
// âœ… Good: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë„ë©”ì¸ ê°ì²´ì— í¬í•¨
@Value
public class ProjectFilter {
    String searchQuery;
    ProjectStatus status;
    SortCriteria sortCriteria;
    
    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë„ë©”ì¸ ê°ì²´ì— í¬í•¨
    public boolean matches(Project project) {
        return matchesSearch(project) && matchesStatus(project);
    }
    
    public Comparator<Project> getComparator() {
        return sortCriteria.getComparator();
    }
}

// âœ… Good: ì„œë¹„ìŠ¤ëŠ” ë‹¨ìˆœ ìœ„ì„
@Service
public class ProjectService implements SearchProjectsUseCase {
    private final ProjectRepositoryPort repositoryPort;
    
    @Override
    public List<ProjectResponse> searchProjects(ProjectFilter filter) {
        List<Project> projects = repositoryPort.findAll();
        return projects.stream()
            .filter(filter::matches)           // ë„ë©”ì¸ ë¡œì§ ìœ„ì„
            .sorted(filter.getComparator())   // ë„ë©”ì¸ ë¡œì§ ìœ„ì„
            .map(ProjectResponse::from)
            .collect(Collectors.toList());
    }
}
```

### 4ï¸âƒ£ ì¸í”„ë¼ ì„œë¹„ìŠ¤ ìœ„ì¹˜ ë¬¸ì œ

**ë¬¸ì œì :**
```java
// âŒ Bad: ì¸í”„ë¼ ì„œë¹„ìŠ¤ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µì— ìœ„ì¹˜
@Service
public class CloudinaryService {
    private final Cloudinary cloudinary;  // ì™¸ë¶€ ì„œë¹„ìŠ¤ ì§ì ‘ ì˜ì¡´
    
    public String uploadImage(MultipartFile file) {
        // Cloudinary SDK ì§ì ‘ ì‚¬ìš©
    }
}
```

**ê°œì„  ë°©ì•ˆ:**
```java
// âœ… Good: í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
public interface ImageStoragePort {
    String uploadImage(byte[] imageData, String folder);
    void deleteImage(String publicId);
}

// âœ… Good: ì¸í”„ë¼ ì–´ëŒ‘í„° êµ¬í˜„
@Component
public class CloudinaryImageStorageAdapter implements ImageStoragePort {
    private final Cloudinary cloudinary;
    
    @Override
    public String uploadImage(byte[] imageData, String folder) {
        // Cloudinary êµ¬í˜„
    }
}
```

---

## ë¦¬íŒ©í† ë§ ê°€ì´ë“œ

### ë‹¨ê³„ë³„ ë¦¬íŒ©í† ë§ í”„ë¡œì„¸ìŠ¤

#### Step 1: í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ ë„ì…
1. **Outbound Port ì •ì˜**
   ```java
   // domain/project/port/out/ProjectRepositoryPort.java
   public interface ProjectRepositoryPort {
       Project save(Project project);
       Optional<Project> findById(ProjectId id);
       List<Project> findByFilter(ProjectFilter filter);
   }
   ```

2. **ê¸°ì¡´ ì„œë¹„ìŠ¤ ìˆ˜ì •**
   ```java
   // application/project/service/ProjectService.java
   @Service
   public class ProjectService {
       private final ProjectRepositoryPort repositoryPort;  // í¬íŠ¸ ì˜ì¡´
       
       public ProjectResponse createProject(CreateProjectRequest request) {
           Project project = Project.from(request);
           Project saved = repositoryPort.save(project);
           return ProjectResponse.from(saved);
       }
   }
   ```

#### Step 2: ì–´ëŒ‘í„° êµ¬í˜„
```java
// infrastructure/persistence/postgres/adapter/PostgresProjectRepository.java
@Repository
public class PostgresProjectRepository implements ProjectRepositoryPort {
    private final ProjectJpaRepository jpaRepository;
    private final ProjectMapper mapper;
    
    @Override
    public Project save(Project project) {
        ProjectJpaEntity entity = mapper.toEntity(project);
        ProjectJpaEntity saved = jpaRepository.save(entity);
        return mapper.toDomain(saved);
    }
}
```

#### Step 3: DTO ì´ë™
1. **ë„ë©”ì¸ DTO ì´ë™**
   ```
   infrastructure/web/dto/admin/ â†’ domain/admin/dto/
   ```

2. **ê°’ ê°ì²´ ì¶”ì¶œ**
   ```java
   // domain/admin/model/vo/ProjectFilter.java
   @Value
   public class ProjectFilter {
       // í•„í„°ë§ ë¡œì§ í¬í•¨
   }
   ```

#### Step 4: Use Case ë¶„ë¦¬
```java
// domain/project/port/in/ManageProjectUseCase.java
public interface ManageProjectUseCase {
    ProjectResponse createProject(CreateProjectRequest request);
    ProjectResponse updateProject(ProjectId id, UpdateProjectRequest request);
    void deleteProject(ProjectId id);
}

// application/project/service/ProjectManagementService.java
@Service
public class ProjectManagementService implements ManageProjectUseCase {
    // êµ¬í˜„
}
```

### ë¦¬íŒ©í† ë§ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### âœ… ë„ë©”ì¸ ê³„ì¸µ
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë„ë©”ì¸ ëª¨ë¸ì— í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ê°’ ê°ì²´(Value Object)ê°€ ì ì ˆíˆ ì‚¬ìš©ë˜ê³  ìˆëŠ”ê°€?
- [ ] í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ê°€ ëª…í™•í•˜ê²Œ ì •ì˜ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ë„ë©”ì¸ DTOê°€ ë„ë©”ì¸ ê³„ì¸µì— ìœ„ì¹˜í•˜ëŠ”ê°€?
- [ ] ë„ë©”ì¸ ì˜ˆì™¸ê°€ ì •ì˜ë˜ì–´ ìˆëŠ”ê°€?

#### âœ… ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ
- [ ] Use Case ì¸í„°í˜ì´ìŠ¤ê°€ ì •ì˜ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ì„œë¹„ìŠ¤ê°€ í¬íŠ¸ì—ë§Œ ì˜ì¡´í•˜ëŠ”ê°€?
- [ ] ì¸í”„ë¼ êµ¬í˜„ì²´ë¥¼ ì§ì ‘ ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ê°€?
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë„ë©”ì¸ì— ìœ„ì„ë˜ëŠ”ê°€?
- [ ] íŠ¸ëœì­ì…˜ ê´€ë¦¬ê°€ ì ì ˆí•œê°€?

#### âœ… ì¸í”„ë¼ ê³„ì¸µ
- [ ] í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì–´ëŒ‘í„°ê°€ ìˆëŠ”ê°€?
- [ ] ì™¸ë¶€ ì„œë¹„ìŠ¤ê°€ ì¸í”„ë¼ ê³„ì¸µì— ìœ„ì¹˜í•˜ëŠ”ê°€?
- [ ] ì›¹ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ Use Caseì—ë§Œ ì˜ì¡´í•˜ëŠ”ê°€?
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§¤í¼ê°€ ì¸í”„ë¼ì— ìœ„ì¹˜í•˜ëŠ”ê°€?
- [ ] ì„¤ì •ì´ ì ì ˆíˆ ë¶„ë¦¬ë˜ì–´ ìˆëŠ”ê°€?

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### ìƒˆë¡œìš´ ê¸°ëŠ¥ ê°œë°œ ì‹œ

#### âœ… ë„ë©”ì¸ ê³„ì¸µ
- [ ] ì—”í‹°í‹°ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ê°’ ê°ì²´ê°€ ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ëŠ”ê°€?
- [ ] í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ê°€ ëª…í™•í•˜ê²Œ ì •ì˜ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ë„ë©”ì¸ ì˜ˆì™¸ê°€ ì ì ˆíˆ ì •ì˜ë˜ì–´ ìˆëŠ”ê°€?

#### âœ… ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ
- [ ] Use Case ì¸í„°í˜ì´ìŠ¤ê°€ ì •ì˜ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ì„œë¹„ìŠ¤ê°€ í¬íŠ¸ì—ë§Œ ì˜ì¡´í•˜ëŠ”ê°€?
- [ ] íŠ¸ëœì­ì…˜ ê²½ê³„ê°€ ì ì ˆí•œê°€?
- [ ] DTO ë§¤í•‘ì´ ëª…í™•í•œê°€?

#### âœ… ì¸í”„ë¼ ê³„ì¸µ
- [ ] ì–´ëŒ‘í„°ê°€ í¬íŠ¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í•˜ëŠ”ê°€?
- [ ] ì™¸ë¶€ ì˜ì¡´ì„±ì´ ì¸í”„ë¼ì—ë§Œ ìˆëŠ”ê°€?
- [ ] ì„¤ì •ì´ ì ì ˆíˆ ë¶„ë¦¬ë˜ì–´ ìˆëŠ”ê°€?

### ê¸°ì¡´ ì½”ë“œ ë¦¬íŒ©í† ë§ ì‹œ

#### âœ… ë¬¸ì œ íŒŒì•…
- [ ] ê³„ì¸µ ìš°íšŒê°€ ìˆëŠ”ê°€?
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì˜ëª»ëœ ê³„ì¸µì— ìˆëŠ”ê°€?
- [ ] DTO ìœ„ì¹˜ê°€ ì ì ˆí•œê°€?
- [ ] í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ê°€ ëˆ„ë½ë˜ì—ˆëŠ”ê°€?

#### âœ… ë¦¬íŒ©í† ë§ ìˆœì„œ
1. [ ] í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
2. [ ] ë„ë©”ì¸ ë¡œì§ ë„ë©”ì¸ ê³„ì¸µìœ¼ë¡œ ì´ë™
3. [ ] DTO ì ì ˆí•œ ê³„ì¸µìœ¼ë¡œ ì´ë™
4. [ ] ì–´ëŒ‘í„° êµ¬í˜„
5. [ ] Use Case ë¶„ë¦¬
6. [ ] í…ŒìŠ¤íŠ¸ ì‘ì„±

---

## ì°¸ê³  ìë£Œ

### í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ê´€ë ¨
- [Hexagonal Architecture by Alistair Cockburn](https://alistair.cockburn.us/hexagonal-architecture/)
- [Clean Architecture by Robert C. Martin](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [Ports and Adapters Pattern](https://martinfowler.com/articles/ports-and-adapters.html)

### Spring Boot ê´€ë ¨
- [Spring Boot Reference Documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/)
- [Spring Data JPA Documentation](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/)

### í…ŒìŠ¤íŠ¸ ê´€ë ¨
- [JUnit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/)
- [Mockito Documentation](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html)

---

**ì‘ì„±ì¼**: 2025-01-25
**ë²„ì „**: 1.0
**ì‘ì„±ì**: AI Agent (Claude)
