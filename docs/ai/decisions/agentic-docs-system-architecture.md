# 결정사항: Agentic 문서화 시스템 아키텍처
**날짜**: 2025-01-06  
**결정 유형**: 아키텍처  
**영향도**: 높음  
**상태**: 승인됨

## 🎯 결정 요약
템플릿 중심의 conversation_log를 커밋 중심적이고 개발자 신호 기반의 문서화 시스템으로 대체

## 🔍 결정 배경
- 현재 conversation_log가 내용을 엄격한 템플릿에 억지로 맞춤
- 개발자 피드백이 포함된 TO-DO 진행 과정에서 커밋 시점이 모호해짐
- 개발 과정의 중요한 수정사항들이 누락됨
- 포트폴리오 생성에만 집중되어 자연스러운 개발 흐름이 방해됨

## 💡 핵심 아키텍처 결정

### 1. 커밋 중심 문서화 시스템
**원칙**: 모든 문서화가 커밋 시점을 중심으로 구성
- 커밋은 개발의 자연스러운 완료 지점
- TO-DO 수정사항 포함 완전한 진행 추적
- 포트폴리오 내용 생성의 명확한 기준점

### 2. 하이브리드 접근법
**구조**: 기계적 자동화 + 개발자 제어
- **자동**: Git 로그, 코드 변경, TO-DO 상태 추적
- **수동**: 개발자 요청 인사이트, 학습 내용, 결정사항

### 3. 개발자 신호 기반 기록
**트리거**: 명시적 개발자 요청 시에만 기록
- "기록해줘", "정리해줘", "커밋 전에 정리해줘" 신호 감지
- 템플릿 강제 적용 방지
- 자연스러운 개발 흐름 보존

## 🛠️ 기술적 명세

### 커밋 메시지 컨벤션
```
<type>(<scope>): <action> <technology/concept> <context>

예시:
feat(rag): implement BM25 + Gemini embedding hybrid search
fix(memory): resolve leak in document chunking (streaming processing)
perf(vector): optimize Qdrant queries (60% speed improvement)
```

### Git 태그 시스템
```
feat/     # 새로운 기능
tech/     # 사용된 기술 (BM25, Gemini, Qdrant 등)
pattern/  # 적용된 패턴 (port-adapter, domain-isolation 등)
algo/     # 구현된 알고리즘 (hybrid-scoring 등)
perf/     # 성능 개선
fix/      # 문제 해결
arch/     # 아키텍처 변경
```

### 문서화 구조
```
docs/ai/
├── development_session.md    # 자연스러운 개발 세션 기록
├── decisions/               # 중요한 기술적 결정사항
├── learnings/               # 학습 내용
└── portfolio_insights.md    # 포트폴리오용 내용
```

## ✅ 기대 효과
- 억지로 템플릿에 맞추지 않는 자연스러운 개발 흐름
- 수정사항을 포함한 완전한 TO-DO 진행 추적
- 커밋 히스토리에서 쉬운 포트폴리오 내용 생성
- 효율적인 검색 및 참조 기능

## ⚠️ 위험요소 및 완화방안
- **위험**: 개발자가 문서화 요청을 잊어버림
- **완화방안**: 커밋 전 체크 시스템으로 부드러운 알림

- **위험**: 구조화된 포트폴리오 내용 손실
- **완화방안**: 커밋 히스토리에서 자동 포트폴리오 생성

## 🚀 구현 계획
1. 개발자 신호 감지 규칙 생성
2. 커밋 전 체크 시스템 구현
3. 새로운 문서 템플릿 설계
4. Git 태그 자동화 구축
5. 실제 개발 세션으로 테스트

## 📊 성공 지표
- 템플릿 강제 적용 사건 감소
- 완전한 TO-DO 수정 추적
- 향상된 포트폴리오 내용 품질
- 빠른 문서화 검색 및 참조

## 🔗 관련 문서
- `docs/ai/development_session_2025-01-06.md`: 이 결정에 이르는 세션 과정
- `docs/ai/conversation_log.md`: 기존 시스템 (대체 대상)

---
*이 결정은 자연스럽고 효과적인 agentic 문서화의 기반을 마련합니다.*
