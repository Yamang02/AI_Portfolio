/* Base */
.imageWrapper {
  position: relative;
  overflow: hidden;
  width: 100%;
  aspect-ratio: 16 / 9;
  border-radius: 16px;
}

.image,
.highlightImage {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  border-radius: 16px;
}

.image {
  z-index: 1;
  opacity: 1;
}

.highlightImage {
  z-index: 2;
  opacity: 0;
}

/* Animations (지원되는 브라우저) */
@supports (animation-timeline: view()) {
  .image {
    animation: imageFadeOut ease-in-out;
    animation-timeline: view();
    animation-range: entry 0% exit 40%;
    animation-fill-mode: both;
  }

  .highlightImage {
    animation: highlightImageFadeIn ease-in-out;
    animation-timeline: view();
    animation-range: entry 40% exit 100%;
    animation-fill-mode: both;
  }

  @keyframes imageFadeOut {
    0%, 30% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }

  @keyframes highlightImageFadeIn {
    0% {
      opacity: 0;
    }
    30%, 100% {
      opacity: 1;
    }
  }
}

/* Fallback (미지원 브라우저) */
@supports not (animation-timeline: view()) {
  .imageWrapper,
  .image,
  .highlightImage {
    opacity: 1;
    transform: none;
  }

  .highlightImage {
    opacity: 0; /* 기본은 원본만 보이게 */
  }
}

/* 반응형 */
@media (max-width: 768px) {
  .imageWrapper {
    order: -1; /* 모바일에서 이미지를 위로 */
  }
}

/* 접근성: 애니메이션 비활성화 */
@media (prefers-reduced-motion: reduce) {
  .image,
  .highlightImage {
    animation: none !important;
  }

  .image {
    opacity: 1 !important;
  }

  .highlightImage {
    opacity: 0 !important;
  }
}
