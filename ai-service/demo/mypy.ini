[tool.mypy]
# mypy 설정 파일
# See https://mypy.readthedocs.io/en/stable/config_file.html

# Python 버전
python_version = "3.11"

# 플랫폼
platform = "linux"

# 기본 설정
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = false
disallow_incomplete_defs = false
check_untyped_defs = true
disallow_untyped_decorators = false
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true

# 에러 출력 설정
show_error_codes = true
show_column_numbers = true
show_error_context = true
pretty = true

# 임포트 관련
ignore_missing_imports = true
follow_imports = "silent"
namespace_packages = true

# 모듈별 설정
[[tool.mypy.overrides]]
module = [
    "gradio.*",
    "langchain.*",
    "sentence_transformers.*",
    "huggingface_hub.*",
    "rank_bm25.*",
    "httpx_sse.*",
    "dataclasses_json.*",
    "pydantic_settings.*",
]
ignore_missing_imports = true

# 테스트 파일 설정
[[tool.mypy.overrides]]
module = "tests.*"
disallow_untyped_defs = false
disallow_incomplete_defs = false

# 제외할 파일들
exclude = [
    "tests/",
    "test_*.py",
    "*_test.py",
    "build/",
    "dist/",
    ".venv/",
    "venv/",
]

# 추가 플러그인
plugins = []

# 출력 형식
show_error_codes = true
show_column_numbers = true
show_error_context = true
pretty = true

# 캐시 설정
cache_dir = ".mypy_cache"
sqlite_cache = true

# 엄격한 설정 (선택적)
# strict = true  # 필요시 활성화
