[tool.ruff]
# Ruff 설정 파일
# See https://docs.astral.sh/ruff/configuration/

# Python 버전 설정
target-version = "py311"

# 린팅할 파일 패턴
include = ["*.py", "*.pyi"]
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".git-rewrite",
    ".hg",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".pytype",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv",
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules",
    "venv",
    "tests/",
    "test_*.py",
    "*_test.py"
]

# 린터 설정
lint.enable = [
    "E",  # pycodestyle errors
    "W",  # pycodestyle warnings
    "F",  # pyflakes
    "I",  # isort
    "B",  # flake8-bugbear
    "C4", # flake8-comprehensions
    "UP", # pyupgrade
    "ARG", # flake8-unused-arguments
    "SIM", # flake8-simplify
    "TCH", # flake8-type-checking
    "Q",  # flake8-quotes
    "RUF", # Ruff-specific rules
]

# 비활성화할 규칙들
lint.disable = [
    "E501",  # line too long (black이 처리)
    "B008",  # do not perform function calls in argument defaults
    "C901",  # too complex
]

# 허용할 에러들
lint.ignore = [
    "E501",  # line too long
    "B008",  # do not perform function calls in argument defaults
    "C901",  # too complex
    "PLR0913", # too many arguments
    "PLR0912", # too many branches
    "PLR0915", # too many statements
]

# 최대 라인 길이
line-length = 88

# Import 정렬 설정
lint.isort.known-first-party = ["demo", "application", "domain", "infrastructure", "config"]

# 포맷팅 설정
format.quote-style = "double"
format.indent-style = "space"
format.skip-magic-trailing-comma = false
format.line-ending = "auto"

# 네임스페이스 패키지 처리
namespace-packages = ["demo"]

# 미래 호환성 설정
lint.upgrade = true
